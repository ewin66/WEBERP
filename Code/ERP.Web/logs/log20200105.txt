2020-01-05 10:46:39,162 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:46:39,187 [9588] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:46:39,193 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:46:39,194 [9588] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:46:39,198 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:46:39,199 [9588] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:54:47,228 [11088] DEBUG Servicesys_user - 获取实体对象
2020-01-05 10:54:47,266 [11088] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-05 10:54:47,445 [11088] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-05 10:54:47,535 [11088] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/5 10:54:47')
2020-01-05 10:54:47,540 [11088] DEBUG Servicemms_project - 获取实体对象
2020-01-05 10:54:47,551 [11088] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 10:54:47,628 [10064] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 10:54:52,564 [13048] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 10:55:02,440 [10024] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 10:56:15,985 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,004 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,010 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,011 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,015 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,016 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 10:56:16,473 [13664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 10:56:19,291 [10024] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 10:56:24,460 [13048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 10:56:24,489 [13048] DEBUG Servicebase_data - 获取动态列表
2020-01-05 10:56:24,519 [13048] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 10:56:24,520 [13048] DEBUG Servicebase_data - 获取动态列表
2020-01-05 10:56:24,521 [13048] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 10:56:26,463 [9316] DEBUG Servicebase_material - 获取动态列表
2020-01-05 10:56:26,463 [9316] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 10:56:26,478 [9316] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 10:56:39,430 [13048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/customer/Index','/Erp/customer')
2020-01-05 10:56:39,459 [13048] DEBUG Servicebase_data - 获取动态列表
2020-01-05 10:56:39,459 [13048] DEBUG Erp - select name as value,name as text from base_data where  type =  '客户等级'and isenable =  '1'
2020-01-05 10:56:40,638 [14132] DEBUG Servicebase_customer - 获取动态列表
2020-01-05 10:56:40,639 [14132] DEBUG Erp - select top 20 * from base_customer order by id
2020-01-05 10:56:40,651 [14132] DEBUG Erp - select count(*) from ( select * from base_customer ) tb_temp
2020-01-05 10:56:43,446 [9316] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-05 10:56:45,246 [11400] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 10:56:45,247 [11400] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-05 10:56:45,255 [11400] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-05 10:56:46,296 [14132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 10:56:48,264 [9316] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 10:56:48,264 [9316] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 10:56:48,269 [9316] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:56:48,349 [9316] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:56:48,428 [5836] DEBUG Servicebase_material - 获取动态列表
2020-01-05 10:56:48,428 [5836] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 10:56:48,430 [5836] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 10:58:51,757 [13664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 10:58:52,460 [14140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 10:58:53,391 [5836] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 10:58:56,240 [13664] DEBUG Servicebase_material - 获取动态列表
2020-01-05 10:58:56,241 [13664] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 10:58:56,242 [13664] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 10:58:56,269 [11400] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 10:58:56,270 [11400] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 10:58:56,272 [11400] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:58:56,290 [11400] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:58:58,944 [13048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 10:58:59,436 [14140] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 10:58:59,436 [14140] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 10:58:59,441 [14140] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:58:59,464 [14140] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 10:58:59,633 [5836] DEBUG Servicebase_material - 获取动态列表
2020-01-05 10:58:59,633 [5836] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 10:58:59,636 [5836] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:00:18,735 [7076] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:00:19,304 [11088] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:00:20,258 [7076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:00:21,270 [5836] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:00:21,270 [5836] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 11:00:21,271 [5836] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 11:00:21,282 [5836] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 11:00:21,440 [13048] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:00:21,440 [13048] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:00:21,441 [13048] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:00:59,686 [11400] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:01:00,062 [5176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:01:00,690 [14140] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:01:01,490 [10024] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:01:01,491 [10024] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:01:01,491 [10024] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:01:01,509 [11088] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:01:01,509 [11088] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 11:01:01,511 [11088] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 11:01:01,568 [11088] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:8bf231a5-caa8-4bbf-9722-f4828ddeb805
Error Number:207,State:1,Class:16
2020-01-05 11:01:30,426 [716] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,447 [716] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,454 [716] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,454 [716] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,462 [716] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,463 [716] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:01:30,907 [7076] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:01:34,134 [10024] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:01:34,454 [9912] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:01:34,542 [14140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:01:34,777 [13664] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:01:37,001 [5176] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:01:37,006 [5176] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 11:01:37,008 [5176] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:0518cc46-3658-4edc-a20b-7917ddc09e2c
Error Number:207,State:1,Class:16
2020-01-05 11:01:37,034 [5176] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:0518cc46-3658-4edc-a20b-7917ddc09e2c
Error Number:207,State:1,Class:16
2020-01-05 11:01:37,071 [13048] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:01:37,072 [13048] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:01:37,082 [13048] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:01:40,333 [13048] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:01:40,552 [11088] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:01:41,576 [9912] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:01:42,158 [13664] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:01:42,159 [13664] DEBUG Erp - select base_warehouse.* from base_warehouse order by warehouse_id
2020-01-05 11:01:42,160 [13664] ERROR Servicebase_warehouse - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:0518cc46-3658-4edc-a20b-7917ddc09e2c
Error Number:207,State:1,Class:16
2020-01-05 11:01:42,170 [13664] ERROR /api/erp/area/GetTypes - System.Data.SqlClient.SqlException (0x80131904): 列名 'warehouse_id' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 34
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:0518cc46-3658-4edc-a20b-7917ddc09e2c
Error Number:207,State:1,Class:16
2020-01-05 11:01:42,260 [11088] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:01:42,260 [11088] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:01:42,261 [11088] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:02:16,475 [716] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,496 [716] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,502 [716] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,502 [716] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,507 [716] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,507 [716] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:02:16,982 [13664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:02:19,894 [7076] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:02:20,148 [14140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:02:20,238 [10024] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:02:20,476 [13664] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:02:22,022 [14140] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:02:22,024 [12760] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:22,029 [14140] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:02:22,036 [12760] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:02:22,044 [12760] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:02:23,377 [9912] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:23,381 [9912] DEBUG Erp - select top 20 * from base_material where  MaterialType =  '1' order by id
2020-01-05 11:02:23,406 [9912] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:23,480 [9912] ERROR /api/erp/material - System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:24,708 [11088] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:24,708 [11088] DEBUG Erp - select top 20 * from base_material where  MaterialType =  '2' order by id
2020-01-05 11:02:24,711 [11088] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:24,730 [11088] ERROR /api/erp/material - System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:30,169 [5176] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:30,169 [5176] DEBUG Erp - select top 20 * from base_material where  MaterialType =  '3' order by id
2020-01-05 11:02:30,171 [5176] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:30,190 [5176] ERROR /api/erp/material - System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:32,981 [11088] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:32,981 [11088] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:02:32,983 [11088] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:02:34,161 [10024] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:02:34,161 [10024] DEBUG Erp - select top 20 * from base_material where  MaterialType =  '1' order by id
2020-01-05 11:02:34,163 [10024] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:34,183 [10024] ERROR /api/erp/material - System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:42,178 [10024] DEBUG Servicebase_area - 编辑记录
2020-01-05 11:02:42,203 [10024] DEBUG Servicebase_area - 获取动态对象
2020-01-05 11:02:42,208 [10024] DEBUG Erp - select base_Area.* from base_Area where  id =  '2'
2020-01-05 11:02:42,231 [10024] DEBUG Erp - update base_Area set [name] = 'aaaaa', [type] = '主料', [unit] = '米', [price] = '3', [guige] = '28888', [isenable] = 'true', [remark] = '11', [create_time] = '2020/1/4 15:08:38', [create_username] = '超级管理员' where  id =  '2'
2020-01-05 11:02:42,236 [10024] ERROR Servicebase_area - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'type' 无效。
列名 'unit' 无效。
列名 'price' 无效。
列名 'guige' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:02:42,255 [10024] ERROR /api/erp/area/edit - System.Data.SqlClient.SqlException (0x80131904): 列名 'type' 无效。
列名 'unit' 无效。
列名 'price' 无效。
列名 'guige' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_areaService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 65
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:04:18,125 [3024] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:04:18,996 [7076] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:04:19,736 [14140] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:04:54,550 [12760] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:04:55,191 [14140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:04:55,814 [9912] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:04:56,487 [12760] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:04:56,487 [12760] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:04:56,487 [12760] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:04:56,510 [14140] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:04:56,510 [14140] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:04:59,237 [3024] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:04:59,238 [3024] DEBUG Erp - select top 20 * from base_material where  MaterialType =  '1' order by id
2020-01-05 11:04:59,240 [3024] ERROR Servicebase_material - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:04:59,258 [3024] ERROR /api/erp/material - System.Data.SqlClient.SqlException (0x80131904): 列名 'MaterialType' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.MaterialApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\MaterialController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:fb18f2de-6de4-4208-866a-2935f012c3d9
Error Number:207,State:1,Class:16
2020-01-05 11:05:50,557 [14140] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:05:51,239 [3024] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:05:52,343 [13048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:05:54,951 [12760] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:05:54,952 [12760] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:05:55,131 [14140] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:05:55,131 [14140] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:05:55,132 [14140] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:07:08,020 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:08,033 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:08,037 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:08,038 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:08,041 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:08,041 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:07:38,955 [7076] DEBUG Servicesys_user - 获取实体对象
2020-01-05 11:07:38,988 [7076] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-05 11:07:39,134 [7076] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-05 11:07:39,185 [7076] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/5 11:07:39')
2020-01-05 11:07:39,187 [7076] DEBUG Servicemms_project - 获取实体对象
2020-01-05 11:07:39,188 [7076] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 11:07:39,253 [13048] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:07:42,596 [4592] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:07:46,759 [13012] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:07:47,772 [4592] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:07:47,773 [4592] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:07:47,791 [13012] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:07:47,791 [13012] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:07:47,804 [13012] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:07:54,500 [11216] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:07:55,456 [11216] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:07:56,089 [9588] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:07:57,269 [13012] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:07:57,270 [13012] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:07:57,390 [9588] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:07:57,391 [9588] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:07:57,391 [9588] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:08:21,784 [11628] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:08:23,185 [4592] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:08:24,151 [11628] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:08:26,483 [11628] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:08:26,483 [11628] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:08:26,720 [14140] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:08:26,720 [14140] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:08:26,721 [14140] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:09:30,280 [10644] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:09:31,577 [10644] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:09:32,532 [10644] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:09:34,550 [10208] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:09:34,551 [10208] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:09:38,744 [7724] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:09:38,744 [7724] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-05 11:09:38,749 [7724] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-05 11:09:41,297 [10644] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:09:41,298 [10644] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  id =  '1' order by a.id
2020-01-05 11:09:41,353 [10644] ERROR Servicebase_area - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'id' 不明确。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:087347f2-ebf1-4071-84b9-27fedefb051f
Error Number:209,State:1,Class:16
2020-01-05 11:10:54,424 [11216] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:10:54,559 [10696] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:10:54,594 [10644] ERROR /api/erp/area - System.Data.SqlClient.SqlException (0x80131904): 列名 'id' 不明确。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.AreaApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\AreaController.cs:行号 50
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:087347f2-ebf1-4071-84b9-27fedefb051f
Error Number:209,State:1,Class:16
2020-01-05 11:10:55,356 [10708] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:10:55,872 [11216] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:10:56,345 [10708] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:10:56,810 [10708] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:10:57,172 [13468] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:10:57,172 [13468] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:10:57,334 [13692] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:10:57,334 [13692] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-05 11:10:57,335 [13692] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-05 11:10:58,743 [13468] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:10:58,743 [13468] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:10:58,760 [13692] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:10:58,761 [13692] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id order by a.id
2020-01-05 11:10:58,761 [13692] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id ) tb_temp
2020-01-05 11:11:00,565 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:11:00,565 [13468] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '2' order by a.id
2020-01-05 11:11:00,571 [13468] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:11:02,067 [13692] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:11:02,067 [13692] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '3' order by a.id
2020-01-05 11:11:02,073 [13692] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:11:03,067 [11472] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:11:03,068 [11472] DEBUG Erp - select top 20 a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '1' order by a.id
2020-01-05 11:11:03,072 [11472] DEBUG Erp - select count(*) from ( select a.warehouse_id,a.id,a.name,a.isenable,a.remark,a.create_time,a.create_username,b.name as wname from base_Area a inner join base_warehouse b on a.warehouse_id=b.id where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:12:33,517 [1132] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:33,554 [1132] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:33,563 [1132] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:33,563 [1132] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:33,570 [1132] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:33,572 [1132] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:12:34,408 [3684] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:12:38,496 [9476] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:12:43,324 [6696] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 11:12:43,349 [6696] DEBUG Servicebase_data - 获取动态列表
2020-01-05 11:12:43,372 [6696] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 11:12:43,374 [6696] DEBUG Servicebase_data - 获取动态列表
2020-01-05 11:12:43,374 [6696] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 11:12:44,797 [11672] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:12:45,281 [13468] DEBUG Servicebase_material - 获取动态列表
2020-01-05 11:12:45,281 [13468] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 11:12:45,296 [13468] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 11:12:45,940 [10748] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:45,941 [10748] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:12:45,949 [10748] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:12:45,967 [7356] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:12:45,968 [7356] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:12:47,502 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:47,503 [13468] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:12:47,507 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:12:48,558 [11672] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:48,558 [11672] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:12:48,577 [11672] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:12:50,073 [10748] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:50,073 [10748] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:12:50,074 [10748] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:12:52,043 [9476] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:52,044 [9476] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:12:52,047 [9476] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:12:53,487 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:53,488 [13468] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:12:53,489 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:12:57,127 [3684] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:57,128 [3684] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:12:57,140 [3684] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:12:58,308 [4040] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:12:58,308 [4040] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:12:58,310 [4040] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:13:24,129 [10748] DEBUG Servicebase_area - 编辑记录
2020-01-05 11:13:24,154 [10748] DEBUG Servicebase_area - 获取动态对象
2020-01-05 11:13:24,159 [10748] DEBUG Erp - select base_Area.* from base_Area where  id =  '4'
2020-01-05 11:13:24,185 [10748] DEBUG Erp - update base_Area set [name] = '成品仓库D', [warehouse_id] = '1', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/4 22:12:56', [create_username] = '超级管理员' where  id =  '4'
2020-01-05 11:13:25,797 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:25,804 [13468] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:13:25,805 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:13:38,794 [13464] DEBUG Servicebase_area - 编辑记录
2020-01-05 11:13:38,795 [13464] DEBUG Servicebase_area - 获取动态对象
2020-01-05 11:13:38,822 [13464] DEBUG Erp - select base_Area.* from base_Area where  id =  ''
2020-01-05 11:13:38,872 [13464] DEBUG Erp - insert into base_Area([warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('2','半成品仓库A','true','','超级管理员','2020/1/5 11:13:38')
2020-01-05 11:13:41,120 [6696] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:41,120 [6696] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:13:41,121 [6696] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:13:41,962 [7356] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:41,962 [7356] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:13:41,963 [7356] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:13:43,033 [9476] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:13:43,717 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:43,717 [13468] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:13:43,718 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:13:43,740 [4040] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:13:43,740 [4040] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:13:44,856 [11672] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:44,857 [11672] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:13:44,858 [11672] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:13:46,696 [6696] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:46,696 [6696] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:13:46,699 [6696] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:13:49,778 [6508] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:49,778 [6508] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:13:49,784 [6508] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:13:51,172 [11332] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:13:51,173 [11332] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:13:51,174 [11332] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:14:23,610 [13468] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:14:24,282 [9800] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:14:25,325 [11672] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:14:26,337 [11332] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:14:26,338 [11332] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:14:26,450 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:26,450 [13468] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:14:26,451 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:14:28,031 [6696] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:28,032 [6696] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:14:28,033 [6696] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:14:29,033 [13464] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:29,033 [13464] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:14:29,048 [13464] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:14:29,872 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:29,872 [13468] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:14:29,875 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:14:30,601 [8760] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:30,602 [8760] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:14:30,602 [8760] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:14:31,186 [4040] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:31,186 [4040] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:14:31,189 [4040] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:14:32,045 [6508] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:14:32,422 [10748] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:14:32,422 [10748] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:14:32,573 [3684] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:32,574 [3684] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:14:32,576 [3684] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:14:33,991 [13468] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:33,992 [13468] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:14:33,995 [13468] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:14:38,770 [9476] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:38,770 [9476] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:14:38,771 [9476] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:14:39,453 [7356] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:39,454 [7356] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 11:14:39,454 [7356] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 11:14:40,047 [6696] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:40,047 [6696] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:14:40,047 [6696] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:14:44,696 [9476] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 11:14:45,443 [9800] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:14:45,444 [9800] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:14:45,445 [9800] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:14:45,473 [13468] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 11:14:45,473 [13468] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 11:15:20,568 [14084] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:15:20,568 [14084] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:15:20,569 [14084] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:18:20,258 [14084] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:18:20,270 [14084] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 11:18:20,271 [14084] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 11:18:21,216 [9476] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:18:21,216 [9476] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 11:18:21,295 [9476] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 11:18:25,455 [11684] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:18:25,455 [11684] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 11:18:25,457 [11684] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 11:23:13,216 [10748] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 11:23:15,261 [7356] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 11:23:15,261 [7356] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 11:23:51,532 [4040] DEBUG Servicesys_menu - 编辑记录
2020-01-05 11:23:51,532 [4040] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 11:23:51,533 [4040] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  'b2b58e16-6c4a-4c0f-bef2-d63200d54ca4'
2020-01-05 11:23:51,539 [4040] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('货架维护','10008','10000','icon-chart_pie_link','/erp/location','true','true','','超级管理员','2020/1/5 11:23:51','超级管理员','2020/1/5 11:23:51')
2020-01-05 11:23:51,590 [4040] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"b2b58e16-6c4a-4c0f-bef2-d63200d54ca4","MenuName":"货架维护","MenuCode":"10008","ParentCode":"10000","IconClass":"icon-chart_pie_link","URL":"/erp/location","IsVisible":"true","IsEnable":"true","MenuSeq":""}],"updated":[],"_changed":true}}','2020/1/5 11:23:51')
2020-01-05 11:23:51,889 [11684] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 11:23:51,889 [11684] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 11:24:13,324 [1104] DEBUG Servicesys_menu - 编辑记录
2020-01-05 11:24:13,324 [1104] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 11:24:13,325 [1104] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10008'
2020-01-05 11:24:13,330 [1104] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '货架维护', [MenuCode] = '10008', [ParentCode] = '10000', [IconClass] = 'icon-chart_pie_link', [URL] = '/erp/location', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '8', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 11:24:13' where  MenuCode =  '10008'
2020-01-05 11:24:13,367 [1104] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[],"updated":[{"_id":"10008","MenuName":"货架维护","MenuCode":"10008","ParentCode":"10000","IconClass":"icon-chart_pie_link","URL":"/erp/location","IsVisible":"true","IsEnable":"true","MenuSeq":"8"}],"_changed":true}}','2020/1/5 11:24:13')
2020-01-05 11:24:13,610 [13468] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 11:24:13,611 [13468] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 11:24:16,954 [1104] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 11:24:16,961 [1104] DEBUG Servicesys_user - 获取动态列表
2020-01-05 11:24:16,961 [1104] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 11:24:16,963 [1104] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 11:24:16,964 [1104] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 11:24:19,072 [4040] DEBUG Servicesys_role - 获取实体列表
2020-01-05 11:24:19,076 [4040] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 11:24:21,551 [13468] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 11:24:21,557 [8288] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 11:24:21,557 [8288] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 11:24:21,559 [13468] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 11:24:21,723 [13468] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 11:24:24,230 [9800] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-05 11:24:24,244 [9800] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-05 11:24:24,246 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-05 11:24:24,247 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-05 11:24:24,248 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-05 11:24:24,249 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-05 11:24:24,250 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-05 11:24:24,250 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-05 11:24:24,251 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-05 11:24:24,253 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-05 11:24:24,254 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-05 11:24:24,255 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-05 11:24:24,256 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-05 11:24:24,257 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-05 11:24:24,258 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-05 11:24:24,259 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-05 11:24:24,260 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-05 11:24:24,261 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-05 11:24:24,262 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-05 11:24:24,262 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-05 11:24:24,263 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-05 11:24:24,266 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-05 11:24:24,268 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-05 11:24:24,269 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-05 11:24:24,270 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-05 11:24:24,271 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-05 11:24:24,272 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-05 11:24:24,273 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-05 11:24:24,274 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-05 11:24:24,275 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-05 11:24:24,276 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-05 11:24:24,276 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-05 11:24:24,277 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-05 11:24:24,278 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-05 11:24:24,279 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-05 11:24:24,280 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-05 11:24:24,281 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-05 11:24:24,282 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-05 11:24:24,283 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-05 11:24:24,285 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-05 11:24:24,285 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-05 11:24:24,286 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-05 11:24:24,287 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-05 11:24:24,288 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-05 11:24:24,289 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-05 11:24:24,290 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-05 11:24:24,290 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-05 11:24:24,291 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-05 11:24:24,292 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-05 11:24:24,294 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-05 11:24:24,294 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-05 11:24:24,295 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-05 11:24:24,296 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-05 11:24:24,297 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-05 11:24:24,298 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-05 11:24:24,299 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-05 11:24:24,300 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-05 11:24:24,301 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-05 11:24:24,302 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-05 11:24:24,303 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-05 11:24:24,304 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-05 11:24:24,304 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-05 11:24:24,305 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-05 11:24:24,306 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-05 11:24:24,306 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-05 11:24:24,307 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-05 11:24:24,322 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-05 11:24:24,323 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-05 11:24:24,324 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-05 11:24:24,325 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-05 11:24:24,327 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10006')
2020-01-05 11:24:24,327 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10007')
2020-01-05 11:24:24,328 [9800] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10008')
2020-01-05 11:24:24,334 [9800] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-05 11:24:24,336 [9800] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-05 11:24:24,337 [9800] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-05 11:24:24,338 [9800] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-05 11:24:24,339 [9800] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-05 11:24:24,345 [9800] DEBUG Servicesys_role - 修改角色数据权限
2020-01-05 11:24:24,347 [9800] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-05 11:24:24,352 [9800] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-05 11:24:24,357 [9800] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-05 11:24:24,369 [9800] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-05 11:24:27,273 [11684] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:24:27,662 [6604] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:24:28,629 [9320] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 11:24:28,645 [9320] DEBUG Servicesys_user - 获取动态列表
2020-01-05 11:24:28,645 [9320] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 11:24:28,646 [9320] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 11:24:28,646 [9320] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 11:24:29,399 [11868] DEBUG Servicesys_role - 获取实体列表
2020-01-05 11:24:29,399 [11868] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 11:25:05,848 [8948] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:05,860 [8948] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:05,864 [8948] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:05,864 [8948] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:05,867 [8948] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:05,868 [8948] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:25:06,160 [8288] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:25:08,059 [11684] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:25:08,407 [13468] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:25:08,501 [1104] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:25:14,002 [7356] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:25:14,280 [11684] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:26:36,285 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,302 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,308 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,308 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,313 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,313 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:26:36,701 [9224] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:26:39,298 [13468] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:26:48,440 [11684] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:26:50,249 [11868] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:26:50,251 [13076] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:26:50,263 [13076] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:26:50,269 [11868] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:26:50,292 [13076] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:26:52,247 [8288] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:26:52,248 [8288] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:26:52,295 [8288] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:26:55,296 [11684] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:26:55,837 [13468] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:26:55,837 [13468] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:26:55,839 [13468] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:26:55,861 [9224] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:26:55,861 [9224] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:28:56,513 [9800] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:28:56,624 [8288] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:28:57,041 [13076] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:28:57,487 [9068] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:28:57,487 [9068] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:28:57,488 [9068] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:28:57,499 [9808] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:28:57,499 [9808] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:29:39,946 [11684] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:29:40,980 [9876] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:29:47,538 [9876] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:29:52,209 [9808] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:29:52,209 [9808] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:29:52,210 [9068] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:29:52,210 [9808] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:29:52,210 [9068] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:30:41,684 [13656] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:31:05,343 [9436] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:31:05,344 [9436] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:31:09,695 [9068] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:31:09,696 [9068] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:31:09,758 [9068] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:31:42,653 [11684] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:31:44,052 [14096] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:31:45,142 [11376] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:31:47,180 [11928] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:31:47,180 [11928] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:33:02,228 [9932] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:33:02,229 [9932] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:33:02,253 [9932] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:33:08,723 [12748] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:33:10,915 [6052] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:33:10,915 [6052] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:33:10,939 [12748] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:33:10,939 [12748] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:33:10,941 [12748] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:35:53,858 [8384] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:35:55,521 [14296] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:35:56,378 [11860] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:35:58,402 [11132] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:35:58,402 [11132] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:35:58,420 [11860] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:35:58,421 [11860] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:35:58,421 [11860] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:36:02,786 [12484] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:36:02,790 [12484] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 11:36:02,796 [12484] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 11:36:10,581 [12344] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:36:11,418 [11456] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:36:12,056 [11132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:36:13,551 [12484] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:36:13,551 [12484] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:36:13,595 [11132] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:36:13,595 [11132] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:36:13,595 [11132] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:36:29,469 [11132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-05 11:36:32,376 [12484] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-05 11:36:32,383 [12484] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-05 11:36:32,608 [8384] DEBUG Servicemms_merchants - 获取实体列表
2020-01-05 11:36:32,610 [8384] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-05 11:36:32,635 [8384] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-05 11:36:35,392 [11860] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/project/Index','/Mms/project')
2020-01-05 11:36:35,404 [11860] DEBUG Servicemms_project - 获取实体对象
2020-01-05 11:36:35,405 [11860] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 11:36:35,410 [11860] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-05 11:36:35,427 [11860] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:35,428 [11860] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-05 11:36:35,430 [11860] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:35,431 [11860] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-05 11:36:35,432 [11860] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:35,432 [11860] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-05 11:36:35,434 [11860] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:35,434 [11860] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-05 11:36:35,458 [11860] DEBUG Servicesys_code - 获取动态列表
2020-01-05 11:36:35,458 [11860] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PartAttr'
2020-01-05 11:36:35,459 [11860] DEBUG Servicesys_code - 获取动态列表
2020-01-05 11:36:35,459 [11860] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'ImagePart'
2020-01-05 11:36:37,741 [11132] DEBUG Servicemms_project - 获取动态列表
2020-01-05 11:36:37,742 [11132] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-05 11:36:37,851 [11132] DEBUG Servicemms_project - 获取实体对象
2020-01-05 11:36:37,851 [11132] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 11:36:37,852 [11132] DEBUG Servicemms_project - 获取上一条下一条数据
2020-01-05 11:36:37,852 [8384] DEBUG Servicemms_buildPart - 获取实体列表
2020-01-05 11:36:37,852 [11132] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:37,852 [11132] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode
2020-01-05 11:36:37,852 [11132] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:37,852 [8384] DEBUG Mms - select mms_buildPart.* from mms_buildPart where  ProjectCode =  '201306030001'
2020-01-05 11:36:37,861 [11132] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode < '201306030001'and ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-05 11:36:37,862 [11132] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:37,862 [11132] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode >  '201306030001'and ProjectCode =  '201306030001' order by ProjectCode
2020-01-05 11:36:37,862 [11132] DEBUG Servicemms_project - 获取字段
2020-01-05 11:36:37,862 [11132] DEBUG Mms - select top 1 ProjectCode from mms_project where  ProjectCode =  '201306030001' order by ProjectCode desc
2020-01-05 11:36:38,926 [14296] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-05 11:36:40,541 [8384] DEBUG Servicemms_project - 获取动态列表
2020-01-05 11:36:40,541 [8384] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-05 11:36:40,557 [12344] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-05 11:36:40,558 [12344] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-05 11:36:40,590 [12344] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-05 11:36:42,045 [11132] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 11:36:43,291 [12484] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 11:36:43,292 [12484] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 11:36:43,373 [11456] DEBUG Servicemms_material - 获取实体列表
2020-01-05 11:36:43,374 [11456] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 11:36:43,382 [11456] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 11:37:10,451 [1060] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 11:37:12,903 [1060] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 11:37:12,903 [1060] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 11:37:12,961 [7876] DEBUG Servicemms_material - 获取实体列表
2020-01-05 11:37:12,961 [7876] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 11:37:12,963 [7876] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 11:37:30,291 [7876] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 11:37:32,350 [7876] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 11:37:32,350 [7876] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 11:39:45,442 [13172] DEBUG Servicemms_material - 获取实体列表
2020-01-05 11:39:45,442 [13172] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 11:39:45,446 [13172] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 11:41:29,622 [7216] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,634 [7216] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,638 [7216] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,638 [7216] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,641 [7216] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,641 [7216] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 11:41:29,943 [14164] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:41:31,988 [7988] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:41:32,306 [1060] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:41:32,407 [11176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:41:32,661 [10008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:41:34,593 [1060] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:41:34,593 [12644] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:41:34,601 [12644] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:41:34,603 [1060] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:41:34,614 [12644] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:41:36,475 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:41:36,476 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:41:36,487 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:41:37,633 [13172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:41:37,634 [13172] DEBUG Erp - select top 20 base_location.* from base_location order by isenable asc
2020-01-05 11:41:37,637 [13172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:41:38,425 [10008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:41:38,425 [10008] DEBUG Erp - select top 20 base_location.* from base_location order by remark asc
2020-01-05 11:41:38,429 [10008] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:42:01,508 [820] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:42:01,742 [14164] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:42:02,242 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:42:02,937 [10008] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:42:02,937 [10008] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:42:03,011 [7988] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:42:03,011 [7988] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:42:03,015 [7988] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:42:07,646 [12644] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:42:07,648 [12644] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 11:42:07,698 [12644] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 11:42:09,544 [820] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:42:09,545 [820] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1' order by id
2020-01-05 11:42:09,548 [820] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '1' ) tb_temp
2020-01-05 11:45:47,951 [12644] DEBUG Servicebase_location - 编辑记录
2020-01-05 11:45:47,974 [12644] DEBUG Servicebase_location - 获取动态对象
2020-01-05 11:45:47,978 [12644] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 11:45:48,005 [12644] DEBUG Erp - insert into base_Location([warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('1','CP1-1001','true','','超级管理员','2020/1/5 11:45:47')
2020-01-05 11:45:48,017 [12644] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'area_id'，表 'Zephyr.Erp.dbo.base_location'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__4(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:92e66ae5-0518-41e6-bf5e-8219935558ab
Error Number:515,State:2,Class:16
2020-01-05 11:45:48,095 [12644] ERROR /api/erp/location/edit - System.Data.SqlClient.SqlException (0x80131904): 不能将值 NULL 插入列 'area_id'，表 'Zephyr.Erp.dbo.base_location'；列不允许有 Null 值。INSERT 失败。
语句已终止。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_locationService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 63
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:92e66ae5-0518-41e6-bf5e-8219935558ab
Error Number:515,State:2,Class:16
2020-01-05 11:47:40,368 [11176] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:47:41,206 [13920] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:47:42,419 [13172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:47:43,345 [11176] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:47:43,345 [11176] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:47:43,503 [13920] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:47:43,504 [13920] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:47:43,509 [13920] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:47:47,378 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:47:47,378 [14296] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 11:47:47,380 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 11:47:49,299 [6600] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:47:49,300 [6600] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1' order by id
2020-01-05 11:47:49,300 [6600] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '1' ) tb_temp
2020-01-05 11:48:30,071 [13172] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:48:30,622 [6600] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:48:31,250 [14164] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:48:32,188 [11176] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:48:32,189 [11176] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:48:32,189 [11176] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:48:32,206 [820] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:48:32,206 [820] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:48:55,136 [6600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:48:56,011 [820] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:48:57,088 [12644] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:48:58,428 [13920] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:48:58,428 [13920] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:48:58,543 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:48:58,543 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:48:58,544 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:49:12,018 [820] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:49:12,271 [14164] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:49:12,695 [14296] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:49:13,257 [13172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:49:13,257 [13172] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:49:13,258 [13172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:49:13,273 [12644] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:49:13,273 [12644] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:49:31,206 [820] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:49:31,950 [12644] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:49:32,938 [14048] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:49:34,301 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:49:34,301 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:49:34,302 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:49:34,313 [820] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:49:34,313 [820] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:50:12,048 [13920] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:50:12,688 [12644] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:50:13,707 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:50:14,869 [12644] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:50:14,869 [12644] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:50:14,869 [12644] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:50:14,877 [14164] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:50:14,878 [14164] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:50:52,604 [13172] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:50:53,244 [14164] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:50:54,225 [11176] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:50:55,453 [13172] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:50:55,453 [13172] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:50:55,623 [12644] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:50:55,623 [12644] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:50:55,623 [12644] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:53:13,129 [11176] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:53:14,176 [10244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:53:15,192 [13920] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:53:16,688 [10244] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:53:16,688 [10244] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:53:16,689 [10244] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:53:16,704 [12644] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:53:16,704 [12644] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:55:02,368 [14164] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:55:03,318 [10244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:55:04,265 [9964] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:55:05,554 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:55:05,555 [11176] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:55:05,555 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:55:05,556 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:55:05,616 [11176] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:56:26,862 [13920] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:56:27,896 [10992] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:56:28,986 [10244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:56:30,559 [10992] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:56:30,559 [10992] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:56:30,689 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:56:30,689 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:56:30,690 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:56:53,958 [6600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:56:54,954 [10244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:56:56,137 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:56:57,224 [8276] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:56:57,225 [8276] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:56:57,225 [8276] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:56:57,260 [8276] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:56:57,260 [8276] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 11:58:01,650 [6600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 11:58:02,552 [13920] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 11:58:03,607 [9920] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 11:58:04,956 [6600] DEBUG Servicebase_location - 获取动态列表
2020-01-05 11:58:04,956 [6600] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 11:58:04,957 [6600] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 11:58:04,970 [14296] DEBUG Servicebase_area - 获取动态列表
2020-01-05 11:58:04,970 [14296] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:01:12,216 [6600] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:01:12,216 [6600] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 12:01:12,218 [6600] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 12:01:13,717 [9920] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:01:13,718 [9920] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 12:01:13,719 [9920] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 12:01:15,434 [10244] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:01:15,434 [10244] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '5' order by id
2020-01-05 12:01:15,438 [10244] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '5' ) tb_temp
2020-01-05 12:01:17,145 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:01:18,068 [9920] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:01:18,069 [9920] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:01:18,318 [4396] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:01:18,318 [4396] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:01:18,319 [4396] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:01:25,206 [10244] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:01:25,207 [10244] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 12:01:25,208 [10244] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 12:02:23,667 [10244] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:02:24,469 [6600] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:02:25,777 [10244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:02:27,231 [10244] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:02:27,231 [10244] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:02:27,231 [10244] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:02:27,251 [6600] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:02:27,251 [6600] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:02:28,310 [9920] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:02:28,311 [9920] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 12:02:28,311 [9920] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 12:05:30,911 [10244] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:05:31,308 [8276] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:05:31,880 [12956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:05:32,454 [10992] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:05:32,454 [10992] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:05:32,454 [10992] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:05:32,462 [10244] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:05:32,462 [10244] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:05:32,635 [11176] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:05:32,804 [12956] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:05:38,612 [1348] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:05:38,954 [10244] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:05:40,005 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:05:40,936 [10992] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:05:40,937 [10992] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:05:40,981 [12956] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:05:40,981 [12956] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:05:40,982 [12956] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:05:50,566 [14296] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:05:50,969 [11176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:05:52,172 [4396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:05:53,116 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:05:53,116 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:05:53,117 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:05:53,131 [10244] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:05:53,132 [10244] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:06:57,695 [6600] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:06:59,054 [14296] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:07:00,289 [10992] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:07:01,557 [10992] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:07:01,557 [10992] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:07:01,750 [11176] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:07:01,750 [11176] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:07:01,752 [11176] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:10:10,536 [10992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:10:11,642 [8616] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:10:12,568 [6600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:10:13,505 [10176] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:10:13,505 [10176] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:10:13,624 [10992] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:10:13,624 [10992] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:10:13,624 [10992] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:11:18,749 [9912] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:11:20,818 [11744] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:11:21,582 [6492] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:11:22,659 [6600] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:11:22,660 [6600] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:11:22,938 [10992] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:11:22,939 [10992] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:11:22,940 [10992] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:11:38,830 [9032] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:11:39,347 [10176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:11:40,135 [10244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:11:41,079 [9912] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:11:41,079 [9912] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:11:41,186 [9032] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:11:41,186 [9032] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:11:41,187 [9032] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:12:01,169 [9032] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:12:02,214 [9032] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:12:03,267 [10176] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:12:05,028 [14296] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:12:05,028 [14296] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:12:05,153 [10244] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:12:05,153 [10244] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:12:05,153 [10244] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:12:43,657 [9912] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:12:44,408 [14296] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:12:45,578 [10244] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:12:46,737 [8616] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:12:46,738 [8616] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:12:46,740 [11744] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:12:46,781 [11744] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:12:46,781 [11744] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:13:40,963 [10992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:13:41,571 [14296] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:13:42,317 [12984] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:13:43,309 [10176] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:13:43,309 [10176] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:13:43,330 [10992] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:13:43,330 [10992] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:13:43,331 [10992] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:13:54,941 [10992] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:13:55,823 [12984] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:13:56,734 [14296] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:13:57,776 [10992] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:13:57,777 [10992] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:13:57,777 [10992] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:13:57,795 [12984] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:13:57,795 [12984] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:14:07,612 [14296] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:14:08,563 [11744] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:14:09,535 [7356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:14:11,071 [14296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:14:11,071 [14296] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:14:11,071 [14296] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:14:11,084 [8616] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:14:11,085 [8616] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:14:26,538 [9032] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:14:26,539 [9032] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 12:14:26,546 [9032] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 12:14:29,927 [14296] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 12:14:31,184 [10176] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 12:14:31,193 [10176] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 12:14:31,320 [9032] DEBUG Servicemms_material - 获取实体列表
2020-01-05 12:14:31,321 [9032] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 12:14:31,333 [9032] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 12:14:33,631 [10352] DEBUG Servicemms_material - 获取实体列表
2020-01-05 12:14:33,632 [10352] DEBUG Mms - select top 20 mms_material.* from mms_material where  MaterialType =  '01' order by MaterialCode
2020-01-05 12:14:33,639 [10352] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material where  MaterialType =  '01' ) tb_temp
2020-01-05 12:14:37,116 [9912] DEBUG Servicemms_material - 获取实体列表
2020-01-05 12:14:37,117 [9912] DEBUG Mms - select top 20 mms_material.* from mms_material where  MaterialType =  '01010102' order by MaterialCode
2020-01-05 12:14:37,181 [9912] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material where  MaterialType =  '01010102' ) tb_temp
2020-01-05 12:24:41,718 [7604] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:24:42,542 [5808] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:24:44,345 [12708] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 12:24:46,469 [11952] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 12:24:46,474 [11952] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 12:24:46,586 [7628] DEBUG Servicemms_material - 获取实体列表
2020-01-05 12:24:46,586 [7628] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 12:24:46,588 [7628] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 12:24:48,209 [12484] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:24:49,197 [9912] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:24:49,206 [9912] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:24:49,384 [9320] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:24:49,384 [9320] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:24:49,406 [9320] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:25:05,542 [7628] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:25:06,387 [12708] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:25:07,619 [6612] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:25:08,969 [9912] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:25:08,970 [9912] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:25:08,970 [9912] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:25:08,983 [9748] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:25:08,983 [9748] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:26:34,108 [12484] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:26:35,187 [660] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:26:36,396 [9748] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:26:38,006 [11952] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:26:38,006 [11952] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:26:38,007 [11952] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:26:38,048 [6612] DEBUG Servicebase_area - 获取动态列表
2020-01-05 12:26:38,048 [6612] DEBUG Erp - select base_area.* from base_area order by id
2020-01-05 12:48:49,469 [11420] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,495 [11420] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,500 [11420] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,501 [11420] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,505 [11420] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,506 [11420] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:48:49,943 [5096] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:48:53,082 [11476] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:48:58,805 [10756] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:48:59,912 [5096] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:49:00,977 [10756] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:49:02,455 [4600] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:49:02,574 [11600] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:49:02,585 [11600] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:49:02,595 [11600] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:49:05,600 [2604] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:49:06,514 [10756] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:49:06,515 [10756] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:49:06,515 [10756] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:49:06,539 [11476] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:49:24,416 [11356] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:49:25,053 [10756] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:49:25,784 [11600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:49:27,328 [10756] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:49:27,351 [11356] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:49:27,351 [11356] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:49:27,352 [11356] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:50:05,190 [5096] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:50:06,286 [9176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:50:29,634 [11356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:50:34,929 [14052] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:50:34,962 [14052] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:51:19,348 [14052] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:51:19,487 [11600] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:52:36,910 [1132] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:36,925 [1132] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:36,929 [1132] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:36,929 [1132] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:36,932 [1132] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:36,932 [1132] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:52:37,260 [11356] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:52:42,418 [13796] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:52:44,048 [14052] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:53:27,182 [11600] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:53:29,798 [13796] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:53:55,164 [13796] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:53:55,194 [10588] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 32
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:53:55,199 [13796] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:53:57,956 [12776] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:54:04,305 [5092] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 54。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 32
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:54:04,307 [5004] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:54:04,307 [5004] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:54:04,307 [5004] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:57:38,181 [11836] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,199 [11836] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,203 [11836] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,203 [11836] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,208 [11836] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,208 [11836] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 12:57:38,579 [11664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 12:57:41,372 [13796] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 12:58:03,590 [5004] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:58:04,607 [12776] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 名称不能以“ ”字符(十六进制值 0x20)开头。 第 2 行，位置 14。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String[] args)
   在 System.Xml.XmlTextReaderImpl.ParseQName(Boolean isQName, Int32 startOffset, Int32& colonPos)
   在 System.Xml.XmlTextReaderImpl.ParseElement()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlReader.MoveToContent()
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 33
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:58:04,662 [13796] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:58:04,673 [13796] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:58:04,687 [13796] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 12:58:07,388 [10636] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 12:58:07,579 [13796] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 名称不能以“ ”字符(十六进制值 0x20)开头。 第 2 行，位置 14。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String[] args)
   在 System.Xml.XmlTextReaderImpl.ParseQName(Boolean isQName, Int32 startOffset, Int32& colonPos)
   在 System.Xml.XmlTextReaderImpl.ParseElement()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlReader.MoveToContent()
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 33
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 12:58:07,640 [13764] DEBUG Servicebase_location - 获取动态列表
2020-01-05 12:58:07,640 [13764] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 12:58:07,641 [13764] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:00:06,407 [11836] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,424 [11836] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,430 [11836] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,430 [11836] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,434 [11836] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,434 [11836] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:00:06,803 [13796] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:00:09,978 [4436] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:00:13,966 [9924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:00:14,674 [10636] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:00:14,686 [10636] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:00:14,687 [13796] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 56。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:00:14,695 [10636] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:00:26,022 [13796] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:00:27,469 [4148] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:00:32,567 [9924] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:01:11,448 [10588] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 3 行，位置 56。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 36
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:01:11,449 [9924] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:01:11,449 [9924] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:01:11,451 [9924] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:02:35,080 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,101 [11640] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,106 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,106 [11640] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,110 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,111 [11640] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:02:35,569 [12652] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:02:38,924 [6768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:02:42,616 [11928] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:02:44,168 [8324] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:02:54,319 [8324] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:02:54,320 [12652] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 4 行，位置 52。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 42
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:02:54,332 [8324] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:03:06,614 [9552] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:03:31,546 [9552] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:03:35,154 [9552] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:03:35,155 [9552] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:04:39,392 [11728] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 4 行，位置 52。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request)
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:04:41,825 [11832] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:04:53,101 [11016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:04:53,101 [11016] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:04:53,109 [11016] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:05:33,776 [6448] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:33,795 [6448] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:33,800 [6448] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:33,801 [6448] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:33,805 [6448] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:33,805 [6448] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:05:34,299 [5820] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:05:37,565 [5820] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:05:40,080 [5820] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:05:40,925 [13832] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:05:40,925 [12980] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:05:40,935 [12980] DEBUG Erp - select 
a.*
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:05:40,938 [13832] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:05:40,950 [13832] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:06:06,035 [6448] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,054 [6448] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,059 [6448] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,059 [6448] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,063 [6448] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,063 [6448] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:06:06,428 [8172] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:06:09,632 [2476] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:06:11,219 [12980] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:06:11,478 [8172] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:06:12,096 [2476] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:06:13,147 [12360] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:06:13,147 [8172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:06:13,156 [12360] DEBUG Erp - select 
a.id,a.name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:06:13,159 [8172] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:06:13,167 [8172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:07:02,964 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:02,980 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:02,984 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:02,984 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:02,987 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:02,987 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:03,337 [8784] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:07:06,787 [8172] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:07:13,214 [13832] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:07:13,947 [8784] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 4 行，位置 52。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 42
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:07:14,017 [13452] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:07:14,024 [13452] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:07:14,032 [13452] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:07:31,181 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,200 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,208 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,208 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,212 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,212 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:07:31,590 [8784] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:07:34,795 [12980] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:07:37,870 [13452] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:07:38,882 [8784] ERROR /api/erp/location/GetTypes - System.Xml.XmlException: 分析 EntityName 时出错。 第 5 行，位置 32。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.HandleEntityReference(Boolean isInAttributeValue, EntityExpandType expandType, Int32& charRefEndPos)
   在 System.Xml.XmlTextReaderImpl.ParseText(Int32& startPos, Int32& endPos, Int32& outOrChars)
   在 System.Xml.XmlTextReaderImpl.FinishPartialValue()
   在 System.Xml.XmlTextReaderImpl.get_Value()
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r)
   在 System.Xml.Linq.XContainer.ReadContentFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.ReadElementFrom(XmlReader r, LoadOptions o)
   在 System.Xml.Linq.XElement.Load(XmlReader reader, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text, LoadOptions options)
   在 System.Xml.Linq.XElement.Parse(String text)
   在 Zephyr.Core.RequestWrapper.ToParamQuery() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Request\RequestWrapperConvert.cs:行号 77
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.GetTypes(RequestWrapper request) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 42
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:07:38,886 [8172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:07:38,903 [8172] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:07:38,911 [8172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:08:11,484 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,500 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,504 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,504 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,506 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,507 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:08:11,904 [13832] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:08:14,762 [2476] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:08:24,428 [13452] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:08:25,378 [8784] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:08:25,387 [2476] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:08:25,388 [8784] DEBUG Erp - select 
                    a.id, 
                    a.name + '+' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:08:25,392 [2476] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:08:25,402 [2476] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:09:21,943 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:21,960 [1040] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:21,964 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:21,964 [1040] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:21,968 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:21,968 [1040] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:09:22,345 [11716] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:09:25,506 [13832] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:09:30,872 [8172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:09:31,787 [13452] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:09:31,787 [13832] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:09:31,795 [13452] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:09:31,799 [13832] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:09:31,809 [13832] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:10:22,390 [13452] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:10:22,628 [13832] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:10:23,176 [2476] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:10:30,028 [12980] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:10:30,029 [12980] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:10:30,053 [5820] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:10:30,053 [5820] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:10:30,053 [5820] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:11:39,178 [9752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:11:39,442 [2476] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:11:39,989 [8172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:11:40,761 [8172] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:11:40,761 [8172] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:11:40,881 [13832] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:11:40,881 [13832] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:11:40,882 [13832] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:12:09,003 [12980] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:12:09,657 [13832] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:12:10,357 [12840] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:12:11,231 [13452] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:12:11,232 [13452] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:12:11,361 [5820] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:12:11,361 [5820] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:12:11,362 [5820] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:12:13,323 [12396] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:12:13,324 [12396] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 13:12:13,324 [12396] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 13:13:26,120 [2476] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:13:26,457 [11716] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:13:26,983 [8172] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:13:27,785 [2476] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:13:27,785 [2476] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:13:27,814 [12840] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:13:27,814 [12840] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:13:27,815 [12840] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:13:40,327 [11716] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:13:40,547 [12840] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:13:41,152 [12980] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:13:42,035 [9752] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:13:42,035 [9752] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:13:42,036 [9752] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:13:42,044 [11716] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:13:42,044 [11716] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:14:20,196 [9752] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:14:20,484 [9752] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:14:21,121 [9800] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:14:22,022 [11716] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:14:22,022 [11716] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:14:22,049 [4148] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:14:22,049 [4148] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:14:22,050 [4148] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:14:30,246 [9800] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:14:30,246 [9800] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 13:14:30,248 [9800] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 13:14:35,906 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:14:35,906 [12980] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 13:14:35,906 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 13:14:55,324 [11884] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:14:55,331 [11884] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:14:55,333 [11884] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:14:55,340 [11884] DEBUG Erp - insert into base_Location([warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('2+1','AP1-01','true','','超级管理员','2020/1/5 13:14:55')
2020-01-05 13:14:55,344 [11884] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__4(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:14:55,364 [11884] ERROR /api/erp/location/edit - System.Data.SqlClient.SqlException (0x80131904): 在将 nvarchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_locationService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:16:34,230 [11884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:16:34,842 [12980] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:16:35,845 [9752] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:16:37,211 [12840] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:16:37,211 [12840] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:16:37,211 [12840] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:16:37,245 [11716] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:16:37,245 [11716] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:16:45,751 [9752] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:16:45,751 [9752] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 13:16:45,753 [9752] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 13:18:02,697 [11884] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:18:04,165 [14008] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:18:05,366 [10616] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:18:06,677 [9752] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:06,677 [9752] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:06,677 [9752] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:06,770 [10584] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:18:06,771 [10584] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:18:08,196 [11884] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:08,197 [11884] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:08,198 [11884] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:29,282 [12980] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:18:29,283 [12980] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:18:29,307 [12980] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:18:29,315 [12980] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('3','1','AP1-1','true','','超级管理员','2020/1/5 13:18:29')
2020-01-05 13:18:31,939 [13720] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:31,955 [13720] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:31,956 [13720] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:33,178 [2476] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:33,179 [2476] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:33,187 [2476] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:34,172 [8172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:34,173 [8172] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:34,176 [8172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:34,856 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:34,856 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:34,857 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:36,071 [10584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:18:36,813 [13720] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:18:36,813 [13720] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:18:36,991 [14008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:36,991 [14008] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:36,995 [14008] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:38,156 [12840] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:38,156 [12840] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:38,157 [12840] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:39,557 [8172] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:39,558 [8172] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:39,559 [8172] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:40,572 [14008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:40,572 [14008] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:40,572 [14008] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:41,000 [9752] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:41,000 [9752] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:41,001 [9752] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:41,412 [12840] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:41,412 [12840] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:41,414 [12840] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:41,811 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:41,811 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:41,812 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:56,259 [13720] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:18:56,977 [10616] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:18:57,865 [6256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:18:58,722 [12840] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:18:58,723 [12840] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:18:58,872 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:58,872 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:18:58,873 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:18:59,991 [10584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:18:59,992 [10584] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1+1' order by id
2020-01-05 13:19:00,003 [10584] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '1+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:00,023 [10584] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '1+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:00,772 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:19:00,773 [10616] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3+1' order by id
2020-01-05 13:19:00,780 [10616] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:00,800 [10616] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:28,761 [12840] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:19:29,297 [10584] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:19:30,160 [11884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:19:30,995 [13720] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:19:30,995 [13720] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:19:31,133 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:19:31,134 [10616] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:19:31,134 [10616] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:19:53,129 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:19:53,130 [10616] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '5+2' order by id
2020-01-05 13:19:53,134 [10616] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '5+2' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:53,158 [10616] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '5+2' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:58,501 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:19:58,501 [10616] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4+1' order by id
2020-01-05 13:19:58,504 [10616] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '4+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:58,520 [10616] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '4+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:59,450 [11884] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:19:59,450 [11884] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '5+2' order by id
2020-01-05 13:19:59,451 [11884] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '5+2' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:19:59,461 [11884] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '5+2' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:20:12,437 [11884] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 13:20:14,095 [2476] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 13:20:14,096 [2476] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 13:20:14,234 [12840] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:14,234 [12840] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 13:20:14,235 [12840] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 13:20:16,081 [1548] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:16,081 [1548] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '3' order by id
2020-01-05 13:20:16,083 [1548] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '3' ) tb_temp
2020-01-05 13:20:17,208 [12980] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:17,209 [12980] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '2' order by id
2020-01-05 13:20:17,209 [12980] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '2' ) tb_temp
2020-01-05 13:20:18,050 [11716] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:18,051 [11716] DEBUG Erp - select top 20 base_area.* from base_area where  warehouse_id =  '1' order by id
2020-01-05 13:20:18,051 [11716] DEBUG Erp - select count(*) from ( select base_area.* from base_area where  warehouse_id =  '1' ) tb_temp
2020-01-05 13:20:29,196 [12788] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:20:29,996 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:20:29,996 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:20:29,998 [11716] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:29,998 [11716] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:20:29,999 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:20:31,450 [2476] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:20:31,450 [2476] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3+1' order by id
2020-01-05 13:20:31,456 [2476] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:20:31,472 [2476] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:20:32,148 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:20:32,149 [12980] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2+1' order by id
2020-01-05 13:20:32,153 [12980] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:20:32,167 [12980] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:20:47,739 [10616] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:20:48,270 [13720] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:20:48,270 [13720] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:20:48,470 [4588] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:20:48,471 [4588] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:20:48,471 [4588] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:20:49,613 [6768] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:20:49,613 [6768] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2+1' order by id
2020-01-05 13:20:49,618 [6768] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:20:49,639 [6768] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:11e8b708-c55a-428a-9870-09e7f66a4f96
Error Number:245,State:1,Class:16
2020-01-05 13:21:14,999 [12840] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:21:14,999 [12840] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:21:15,006 [12840] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:21:15,018 [12840] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('2','1','AAA','true','','超级管理员','2020/1/5 13:21:15')
2020-01-05 13:21:17,121 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:21:17,121 [12980] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3+1' order by id
2020-01-05 13:21:17,123 [12980] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:21:17,141 [12980] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '3+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:21:18,185 [6768] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:21:18,186 [6768] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2+1' order by id
2020-01-05 13:21:18,189 [6768] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:21:18,207 [6768] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:21:19,540 [12788] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:21:19,540 [12788] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1+1' order by id
2020-01-05 13:21:19,542 [12788] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '1+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:21:19,561 [12788] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '1+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:22:20,148 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:22:20,149 [12980] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2+1' order by id
2020-01-05 13:22:20,150 [12980] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:22:20,171 [12980] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '2+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:22:21,018 [10584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:22:21,018 [10584] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4+1' order by id
2020-01-05 13:22:21,020 [10584] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '4+1' 转换成数据类型 int 时失败。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:22:21,038 [10584] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 在将 varchar 值 '4+1' 转换成数据类型 int 时失败。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 56
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:3f235572-3b48-43b6-9b09-b2997760e75c
Error Number:245,State:1,Class:16
2020-01-05 13:24:33,354 [11584] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:24:33,819 [10944] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:24:34,619 [10616] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:24:35,461 [11584] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:24:35,461 [11584] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:24:35,582 [2476] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:35,583 [2476] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:24:35,583 [2476] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:24:36,457 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:36,457 [13828] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 13:24:36,458 [13828] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 13:24:37,360 [6768] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:37,360 [6768] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1' order by id
2020-01-05 13:24:37,361 [6768] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '1' ) tb_temp
2020-01-05 13:24:38,150 [11584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:38,150 [11584] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 13:24:38,151 [11584] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 13:24:38,709 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:38,710 [10616] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 13:24:38,711 [10616] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 13:24:39,349 [11884] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:39,349 [11884] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 13:24:39,350 [11884] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 13:24:39,919 [6768] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:39,920 [6768] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '5' order by id
2020-01-05 13:24:39,921 [6768] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '5' ) tb_temp
2020-01-05 13:24:40,859 [2476] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:40,859 [2476] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 13:24:40,860 [2476] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 13:24:41,309 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:41,310 [13828] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 13:24:41,313 [13828] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 13:24:42,558 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:42,558 [12980] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 13:24:42,564 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 13:24:43,690 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:43,690 [10616] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:24:43,692 [10616] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:24:44,500 [11584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:44,500 [11584] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 13:24:44,502 [11584] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 13:24:50,258 [2476] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:24:50,258 [2476] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:24:50,335 [2476] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:24:50,369 [2476] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[name],[isenable],[remark],[create_username],[create_time]) values('2','1','BB','true','','超级管理员','2020/1/5 13:24:50')
2020-01-05 13:24:52,825 [6768] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:52,826 [6768] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '3' order by id
2020-01-05 13:24:52,827 [6768] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '3' ) tb_temp
2020-01-05 13:24:54,055 [10616] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:24:54,055 [10616] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:24:54,056 [10616] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:25:03,744 [10944] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:25:04,594 [11584] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:25:05,679 [2476] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:25:06,713 [10944] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:25:06,713 [10944] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:25:06,714 [10944] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:25:06,727 [11584] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:25:06,728 [11584] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:27:12,401 [7868] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:27:13,216 [11884] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:27:14,480 [10944] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:27:16,055 [11584] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:27:16,055 [11584] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:27:16,148 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:27:16,148 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:27:16,149 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:27:23,072 [10944] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:27:23,678 [6768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:27:24,576 [11584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:27:25,286 [11884] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:27:25,286 [11884] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:27:25,410 [12980] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:27:25,410 [12980] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:27:25,411 [12980] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:29:07,062 [11584] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:29:07,647 [12980] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:29:08,833 [10944] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:29:10,107 [6768] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:29:10,107 [6768] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:29:10,224 [5268] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:29:10,224 [5268] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:29:10,224 [5268] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:33:43,601 [13664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:33:44,258 [12872] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:33:45,232 [13904] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:33:46,350 [12296] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:33:46,357 [12296] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:33:46,388 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:33:46,389 [13828] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:33:46,389 [13828] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:34:10,031 [5268] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:34:10,031 [5268] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '2' order by id
2020-01-05 13:34:10,050 [5268] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '2' ) tb_temp
2020-01-05 13:34:26,030 [13664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:34:27,229 [12296] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:34:28,057 [10208] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:34:29,188 [13628] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:34:29,189 [13628] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    a.name + '-' + b.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:34:29,234 [13664] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:34:29,234 [13664] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:34:29,235 [13664] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:34:41,192 [13664] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:34:41,192 [13664] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:34:41,199 [13664] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:34:47,309 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:34:47,309 [13828] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '5' order by id
2020-01-05 13:34:47,311 [13828] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '5' ) tb_temp
2020-01-05 13:37:55,241 [8408] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,270 [8408] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,276 [8408] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,277 [8408] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,282 [8408] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,283 [8408] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:37:55,739 [8264] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:37:58,298 [13628] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:37:58,696 [13904] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:37:58,812 [5268] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:37:59,140 [13828] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:38:00,851 [13628] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:38:00,851 [404] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:38:00,857 [13628] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:38:00,860 [404] DEBUG Erp - select top 20 base_location.* from base_location order by id
2020-01-05 13:38:00,867 [404] DEBUG Erp - select count(*) from ( select base_location.* from base_location ) tb_temp
2020-01-05 13:38:06,422 [13904] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:38:06,424 [13904] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '1' order by id
2020-01-05 13:38:06,425 [13904] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '1' ) tb_temp
2020-01-05 13:38:14,781 [404] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:38:14,781 [404] DEBUG Erp - select top 20 base_location.* from base_location where  area_id =  '4' order by id
2020-01-05 13:38:14,782 [404] DEBUG Erp - select count(*) from ( select base_location.* from base_location where  area_id =  '4' ) tb_temp
2020-01-05 13:38:22,757 [13628] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:38:22,775 [13628] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:38:22,778 [13628] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:38:22,794 [13628] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[wname],[aname],[name],[isenable],[remark],[create_username],[create_time]) values('4','1','成品仓库','成品仓库D','P001','true','','超级管理员','2020/1/5 13:38:22')
2020-01-05 13:38:22,798 [13628] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__4(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:bd5b857d-872d-44f0-b9be-ed620478e8e4
Error Number:207,State:1,Class:16
2020-01-05 13:38:22,845 [13628] ERROR /api/erp/location/edit - System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_locationService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 71
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:bd5b857d-872d-44f0-b9be-ed620478e8e4
Error Number:207,State:1,Class:16
2020-01-05 13:42:24,568 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:24,598 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:24,628 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:24,629 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:24,635 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:24,636 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:25,285 [12304] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:42:30,730 [4228] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:42:46,596 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,607 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,611 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,611 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,614 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,615 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:42:46,890 [13828] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:42:49,326 [5268] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:42:55,691 [404] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:42:57,834 [5268] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:42:57,834 [13828] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:42:57,849 [13828] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:42:57,868 [5268] DEBUG Erp - select top 20 a.*,b.name as aname.c.name as wname from 
                    base_location a inner join 
                    base_area b on a.id=b.area_id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 13:42:57,871 [5268] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:42:57,948 [5268] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:42:59,788 [404] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:42:59,792 [404] DEBUG Erp - select top 20 a.*,b.name as aname.c.name as wname from 
                    base_location a inner join 
                    base_area b on a.id=b.area_id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  area_id =  '1' order by a.id
2020-01-05 13:42:59,795 [404] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:42:59,822 [404] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:43:00,755 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:43:00,755 [13828] DEBUG Erp - select top 20 a.*,b.name as aname.c.name as wname from 
                    base_location a inner join 
                    base_area b on a.id=b.area_id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  area_id =  '3' order by a.id
2020-01-05 13:43:00,757 [13828] ERROR Servicebase_location - 获取动态列表失败
System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QueryMany[TEntity,TList](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 14
   在 Zephyr.Data.DbCommand.QueryMany[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QueryMany.cs:行号 36
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:43:00,776 [13828] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): “.”附近有语法错误。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:5fbe6033-bbef-4c47-b21b-d4182be14b9d
Error Number:102,State:1,Class:15
2020-01-05 13:45:10,228 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,245 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,250 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,251 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,254 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,255 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:10,681 [13748] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:45:13,651 [4228] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:45:19,291 [5268] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:45:21,088 [12944] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:45:21,106 [12944] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:45:21,302 [13748] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:21,303 [13748] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:21,362 [13748] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:24,530 [11436] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:24,533 [11436] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:24,548 [11436] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:26,359 [12304] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:26,360 [12304] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:26,392 [12304] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:27,648 [5268] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:27,648 [5268] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:27,660 [5268] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:29,138 [13904] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:29,139 [13904] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:29,158 [13904] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:29,709 [13904] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:45:30,255 [13828] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:45:30,255 [13828] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:45:30,282 [13828] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:45:30,335 [13904] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:45:30,335 [13904] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:45:52,947 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:52,973 [11344] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:52,978 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:52,979 [11344] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:52,985 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:52,986 [11344] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:45:53,578 [13828] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:45:56,317 [5268] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:45:58,884 [12304] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:46:01,377 [13748] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:46:01,394 [11436] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:46:01,396 [11436] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:46:01,398 [13748] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:46:01,463 [11436] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:46:15,755 [9780] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:15,789 [9780] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:15,801 [9780] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:15,801 [9780] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:15,809 [9780] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:15,809 [9780] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:46:16,924 [9440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:46:19,734 [9440] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:46:44,811 [14036] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:46:45,790 [10516] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:46:45,800 [10516] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:46:52,105 [10296] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:46:52,128 [10296] ERROR Servicebase_location - 获取动态列表失败
Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Data.SelectBuilder`1.GetPreparedDbCommand() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 21
   在 Zephyr.Data.SelectBuilder`1.QueryManyDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 150
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass43_0.<GetDynamicList>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 13:47:49,967 [10296] ERROR /api/erp/location - Zephyr.Data.FluentDataException: Order by must defined when using Paging.
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamicList(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 28
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 43
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query)
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 13:47:52,519 [12692] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:47:53,894 [11440] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:47:55,082 [12692] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:47:57,237 [10516] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:47:57,238 [10516] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:48:05,515 [12692] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:05,515 [12692] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 13:48:05,563 [12692] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 13:48:16,196 [9224] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:16,199 [9224] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 13:48:16,209 [9224] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 13:48:19,008 [12956] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:19,008 [12956] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 13:48:19,014 [12956] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 13:48:20,215 [10128] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:20,215 [10128] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 13:48:20,220 [10128] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 13:48:21,198 [10128] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:21,198 [10128] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 13:48:21,199 [10128] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 13:48:21,806 [12692] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:21,806 [12692] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 13:48:21,806 [12692] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 13:48:22,999 [11440] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:22,999 [11440] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' order by a.id
2020-01-05 13:48:23,003 [11440] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' ) tb_temp
2020-01-05 13:48:23,764 [9224] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:48:23,765 [9224] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 13:48:23,769 [9224] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 13:48:31,579 [12692] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:48:31,610 [12692] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:48:31,615 [12692] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 13:48:31,727 [12692] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[wname],[aname],[name],[isenable],[remark],[create_username],[create_time]) values('5','2','半成品仓库','半成品仓库A','S001','true','','超级管理员','2020/1/5 13:48:31')
2020-01-05 13:48:31,913 [12692] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseInsertBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Insert\BaseInsertBuilder.cs:行号 22
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__4(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 62
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:613c3ae5-4eb4-4c73-b68d-a150a751b52a
Error Number:207,State:1,Class:16
2020-01-05 13:49:11,920 [12692] ERROR /api/erp/location/edit - System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_locationService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Edit(Object data)
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:613c3ae5-4eb4-4c73-b68d-a150a751b52a
Error Number:207,State:1,Class:16
2020-01-05 13:49:14,949 [12272] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:49:14,950 [12272] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:49:14,956 [12272] DEBUG Erp - select base_Location.* from base_Location where  id =  ''and wname =  '半成品仓库'and aname =  '半成品仓库A'
2020-01-05 13:49:15,176 [12272] ERROR Servicebase_location - 获取动态对象失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass47_0.<GetDynamic>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:613c3ae5-4eb4-4c73-b68d-a150a751b52a
Error Number:207,State:1,Class:16
2020-01-05 13:49:15,246 [12272] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamic(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 115
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:613c3ae5-4eb4-4c73-b68d-a150a751b52a
Error Number:207,State:1,Class:16
2020-01-05 13:49:52,658 [10012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:52,673 [10012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:52,676 [10012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:52,676 [10012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:52,679 [10012] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:52,679 [10012] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 13:49:53,051 [13076] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 13:49:55,436 [13076] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 13:50:12,943 [4544] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 13:50:12,959 [4544] DEBUG Servicebase_data - 获取动态列表
2020-01-05 13:50:12,966 [4544] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 13:50:12,967 [4544] DEBUG Servicebase_data - 获取动态列表
2020-01-05 13:50:12,967 [4544] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 13:50:13,800 [13076] DEBUG Servicebase_material - 获取动态列表
2020-01-05 13:50:13,800 [13076] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 13:50:13,810 [13076] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 13:50:14,468 [12796] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 13:50:15,065 [9100] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:50:15,065 [9100] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 13:50:15,071 [10396] DEBUG Servicebase_area - 获取动态列表
2020-01-05 13:50:15,071 [9100] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 13:50:15,078 [10396] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 13:50:17,628 [10848] DEBUG Servicebase_location - 获取动态列表
2020-01-05 13:50:17,628 [10848] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 13:50:17,629 [10848] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 13:50:21,981 [9100] DEBUG Servicebase_location - 编辑记录
2020-01-05 13:50:21,988 [9100] DEBUG Servicebase_location - 获取动态对象
2020-01-05 13:50:21,990 [9100] DEBUG Erp - select base_Location.* from base_Location where  id =  ''and wname =  '成品仓库'and aname =  '成品货架A'
2020-01-05 13:50:21,992 [9100] ERROR Servicebase_location - 获取动态对象失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Data.SelectBuilder`1.QuerySingleDynamic() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Select\SelectBuilder.cs:行号 155
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass47_0.<GetDynamic>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:ab240785-712d-473a-8f25-b16edded9953
Error Number:207,State:1,Class:16
2020-01-05 13:50:22,002 [9100] ERROR Servicebase_location - 编辑记录失败
System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.GetDynamic(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 59
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 115
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
ClientConnectionId:ab240785-712d-473a-8f25-b16edded9953
Error Number:207,State:1,Class:16
2020-01-05 13:50:22,015 [9100] ERROR /api/erp/location/edit - System.Data.SqlClient.SqlException (0x80131904): 列名 'wname' 无效。
列名 'aname' 无效。
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , base_locationService , Object , RequestWrapper , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 93
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ab240785-712d-473a-8f25-b16edded9953
Error Number:207,State:1,Class:16
2020-01-05 14:03:35,756 [10012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:35,783 [10012] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:35,788 [10012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:35,788 [10012] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:35,792 [10012] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:35,793 [10012] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:03:36,334 [13748] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 14:03:39,130 [11380] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 14:03:42,992 [13748] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:03:45,250 [2320] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:03:45,290 [2320] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:03:45,309 [9016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:45,310 [9016] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:03:45,362 [9016] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:03:45,424 [9016] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:03:46,573 [10396] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:46,578 [10396] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:03:46,588 [10396] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:03:46,607 [10396] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:03:53,102 [13844] DEBUG Servicebase_location - 编辑记录
2020-01-05 14:03:53,132 [13844] DEBUG Servicebase_location - 获取动态对象
2020-01-05 14:03:53,138 [13844] DEBUG Erp - select base_Location.* from base_Location where  id =  ''and wname =  '成品仓库'and aname =  '成品货架A'
2020-01-05 14:03:53,172 [13844] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[wname],[aname],[name],[isenable],[remark],[create_username],[create_time]) values('1','1','成品仓库','成品货架A','P00-1','true','','超级管理员','2020/1/5 14:03:53')
2020-01-05 14:03:55,142 [8756] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:55,161 [8756] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:03:55,182 [8756] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:03:55,203 [8756] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:56,398 [10396] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:56,398 [10396] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:03:56,399 [10396] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:03:56,413 [10396] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:57,308 [1612] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:57,308 [1612] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 14:03:57,316 [1612] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 14:03:57,326 [1612] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:58,097 [13888] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:58,097 [13888] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 14:03:58,101 [13888] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 14:03:58,109 [13888] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:58,810 [8756] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:58,810 [8756] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 14:03:58,812 [8756] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 14:03:58,830 [8756] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:59,429 [2320] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:59,429 [2320] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:03:59,430 [2320] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:03:59,448 [2320] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:03:59,911 [11380] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:03:59,912 [11380] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:03:59,922 [11380] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:03:59,937 [11380] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:00,757 [8696] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:00,757 [8696] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:04:00,761 [8696] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:04:00,778 [8696] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:01,032 [8696] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:01,032 [8696] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:04:01,034 [8696] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:04:01,054 [8696] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:01,078 [1612] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:01,078 [1612] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:04:01,079 [1612] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:04:01,094 [1612] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:02,770 [2320] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:02,770 [2320] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:04:02,772 [2320] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:04:02,784 [2320] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:05,727 [10396] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:05,727 [10396] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 14:04:05,728 [10396] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 14:04:05,749 [10396] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:06,014 [13888] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:06,014 [13888] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 14:04:06,015 [13888] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 14:04:06,031 [13888] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:06,051 [11380] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:06,051 [11380] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 14:04:06,054 [11380] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 14:04:06,065 [11380] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:09,351 [11260] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:09,352 [11260] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:04:09,353 [11260] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:04:09,371 [11260] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:09,632 [13888] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:09,633 [13888] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:04:09,634 [13888] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:04:09,655 [13888] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:04:09,697 [13844] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:04:09,697 [13844] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:04:09,699 [13844] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:04:09,731 [13844] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:06:35,235 [10396] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 14:06:36,370 [11576] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 14:06:37,575 [8588] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:06:39,189 [11260] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:06:39,189 [11260] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:06:39,219 [7220] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:06:39,219 [7220] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:06:39,223 [7220] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:06:39,233 [7220] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:06:45,853 [11260] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 14:06:46,572 [8588] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 14:07:51,096 [11380] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:07:51,697 [9016] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:07:51,697 [9016] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:07:51,849 [10584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:51,849 [10584] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:07:51,850 [10584] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:07:51,859 [10584] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:07:52,842 [9016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:52,842 [9016] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' order by a.id
2020-01-05 14:07:52,848 [9016] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' ) tb_temp
2020-01-05 14:07:52,856 [9016] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:07:53,582 [13844] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:53,583 [13844] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 14:07:53,583 [13844] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 14:07:53,594 [13844] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:07:53,992 [11260] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:53,992 [11260] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:07:53,992 [11260] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:07:53,999 [11260] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:07:54,332 [9016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:54,333 [9016] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:07:54,333 [9016] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:07:54,338 [9016] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:07:55,126 [11380] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:07:55,126 [11380] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:07:55,127 [11380] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:07:55,140 [11380] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:88bfe03a-74e4-44d8-ba24-0f47949248c8
Error Number:8156,State:1,Class:16
2020-01-05 14:08:01,424 [13240] DEBUG Servicebase_location - 编辑记录
2020-01-05 14:08:01,425 [13240] DEBUG Servicebase_location - 获取动态对象
2020-01-05 14:08:01,470 [13240] DEBUG Erp - select base_Location.* from base_Location where  id =  ''and wname =  '成品仓库'and aname =  '成品货架A'
2020-01-05 14:08:01,498 [13240] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[wname],[aname],[name],[isenable],[remark],[create_username],[create_time]) values('1','1','成品仓库','成品货架A','AAA','false','','超级管理员','2020/1/5 14:08:01')
2020-01-05 14:08:03,696 [8588] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:03,697 [8588] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:08:03,698 [8588] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:08:03,716 [8588] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:04,947 [13240] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:04,947 [13240] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:08:04,949 [13240] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:08:04,969 [13240] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:15,196 [9016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:15,197 [9016] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:08:15,200 [9016] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:08:15,218 [9016] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:15,880 [11380] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:15,880 [11380] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 14:08:15,881 [11380] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 14:08:15,901 [11380] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:16,547 [10584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:16,548 [10584] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' order by a.id
2020-01-05 14:08:16,549 [10584] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' ) tb_temp
2020-01-05 14:08:16,569 [10584] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:17,758 [11380] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:17,759 [11380] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:08:17,760 [11380] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:08:17,783 [11380] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:27,021 [11836] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:08:27,699 [11260] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:27,699 [11260] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:08:27,700 [11260] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:08:27,720 [11260] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:27,721 [12172] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:08:27,723 [12172] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:08:29,413 [9016] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:29,414 [9016] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' order by a.id
2020-01-05 14:08:29,415 [9016] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '1' ) tb_temp
2020-01-05 14:08:29,434 [9016] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:30,242 [13240] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:30,242 [13240] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' order by a.id
2020-01-05 14:08:30,243 [13240] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '2' ) tb_temp
2020-01-05 14:08:30,263 [13240] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:30,964 [5752] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:30,964 [5752] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' order by a.id
2020-01-05 14:08:30,965 [5752] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' ) tb_temp
2020-01-05 14:08:30,985 [5752] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:31,752 [8584] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:31,753 [8584] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' order by a.id
2020-01-05 14:08:31,755 [8584] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '3' ) tb_temp
2020-01-05 14:08:31,776 [8584] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:32,455 [13240] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:32,455 [13240] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' order by a.id
2020-01-05 14:08:32,456 [13240] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '4' ) tb_temp
2020-01-05 14:08:32,476 [13240] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:33,006 [8588] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:08:33,006 [8588] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' order by a.id
2020-01-05 14:08:33,008 [8588] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 where  a.area_id =  '5' ) tb_temp
2020-01-05 14:08:33,027 [8588] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:ba3b15d0-3126-4b10-b7f1-7cb396485a07
Error Number:8156,State:1,Class:16
2020-01-05 14:08:58,471 [14272] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,486 [14272] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,490 [14272] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,490 [14272] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,494 [14272] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,494 [14272] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:08:58,871 [11260] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 14:09:00,668 [4760] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 14:09:08,818 [11260] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:09:09,798 [11676] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:09:09,803 [4760] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:09:09,808 [11676] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:09:09,812 [4760] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:09:09,820 [4760] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:09:54,728 [4760] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:1fa9c9d0-b362-4a07-af16-9bc568ab3707
Error Number:8156,State:1,Class:16
2020-01-05 14:10:40,839 [988] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:10:42,199 [988] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:10:42,199 [988] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:11:27,208 [8372] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:11:27,208 [8372] DEBUG Erp - select top 20 a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 order by a.id
2020-01-05 14:11:27,217 [8372] DEBUG Erp - select count(*) from ( select a.*,b.name as aname,c.name as wname from 
                    base_location a inner join 
                    base_area b on a.area_id=b.id inner join base_warehouse c
                    on a.warehouse_id = c.id
                 ) tb_temp
2020-01-05 14:11:42,647 [8372] ERROR /api/erp/location - System.Data.SqlClient.SqlException (0x80131904): 多次为 'tb_temp' 指定了列 'aname'。
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 107
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.QuerySingle[TEntity](Action`2 customMapper) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\QuerySingle.cs:行号 12
   在 Zephyr.Core.ServiceBase`1.queryRowCount(ParamQuery param, Object rows) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseUtils.cs:行号 130
   在 CallSite.Target(Closure , CallSite , ServiceBase`1 , ParamQuery , Object )
   在 Zephyr.Core.ServiceBase`1.GetDynamicListWithPaging(ParamQuery param) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseQuery.cs:行号 44
   在 ERP.Web.Areas.Erp.Controllers.LocationApiController.Get(RequestWrapper query) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Erp\Controllers\LocationController.cs:行号 76
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClass13.<GetExecutor>b__c(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
ClientConnectionId:1fa9c9d0-b362-4a07-af16-9bc568ab3707
Error Number:8156,State:1,Class:16
2020-01-05 14:12:21,942 [8776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:21,956 [8776] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:21,960 [8776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:21,960 [8776] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:21,963 [8776] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:21,963 [8776] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 14:12:22,278 [14008] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 14:12:25,469 [11792] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 14:13:14,171 [14008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:13:16,055 [8936] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:16,073 [11732] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:13:16,075 [8936] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 14:13:16,082 [11732] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:13:16,098 [8936] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 14:13:17,547 [8372] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:17,551 [8372] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '3' order by id
2020-01-05 14:13:17,554 [8372] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '3' ) tb_temp
2020-01-05 14:13:18,388 [8876] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:18,389 [8876] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '4' order by id
2020-01-05 14:13:18,429 [8876] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '4' ) tb_temp
2020-01-05 14:13:19,100 [14008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:19,100 [14008] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '2' order by id
2020-01-05 14:13:19,103 [14008] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '2' ) tb_temp
2020-01-05 14:13:19,880 [988] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:19,881 [988] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '1' order by id
2020-01-05 14:13:19,886 [988] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '1' ) tb_temp
2020-01-05 14:13:27,512 [8936] DEBUG Servicebase_location - 编辑记录
2020-01-05 14:13:27,548 [8936] DEBUG Servicebase_location - 获取动态对象
2020-01-05 14:13:27,556 [8936] DEBUG Erp - select base_Location.* from base_Location where  id =  '2'
2020-01-05 14:13:27,602 [8936] DEBUG Erp - update base_Location set [name] = 'P00-2', [warehouse_id] = '1', [wname] = '成品仓库', [area_id] = '1', [aname] = '成品货架A', [isenable] = 'false', [remark] = '', [create_time] = '2020/1/5 14:08:01', [create_username] = '超级管理员' where  id =  '2'
2020-01-05 14:13:32,253 [13820] DEBUG Servicebase_location - 编辑记录
2020-01-05 14:13:32,253 [13820] DEBUG Servicebase_location - 获取动态对象
2020-01-05 14:13:32,255 [13820] DEBUG Erp - select base_Location.* from base_Location where  id =  '2'
2020-01-05 14:13:32,256 [13820] DEBUG Erp - update base_Location set [name] = 'P00-2', [warehouse_id] = '1', [wname] = '成品仓库', [area_id] = '1', [aname] = '成品货架A', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/5 14:08:01', [create_username] = '超级管理员' where  id =  '2'
2020-01-05 14:13:37,078 [988] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:37,078 [988] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '3' order by id
2020-01-05 14:13:37,079 [988] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '3' ) tb_temp
2020-01-05 14:13:38,063 [8936] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:38,064 [8936] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '5' order by id
2020-01-05 14:13:38,067 [8936] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '5' ) tb_temp
2020-01-05 14:13:38,750 [5632] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:38,750 [5632] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '4' order by id
2020-01-05 14:13:38,752 [5632] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '4' ) tb_temp
2020-01-05 14:13:39,193 [8372] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:39,193 [8372] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '3' order by id
2020-01-05 14:13:39,194 [8372] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '3' ) tb_temp
2020-01-05 14:13:39,626 [14008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:39,627 [14008] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '2' order by id
2020-01-05 14:13:39,630 [14008] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '2' ) tb_temp
2020-01-05 14:13:40,108 [8372] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:40,109 [8372] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '1' order by id
2020-01-05 14:13:40,110 [8372] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '1' ) tb_temp
2020-01-05 14:13:42,438 [988] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:42,440 [988] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 14:13:42,442 [988] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 14:13:43,418 [11792] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:13:43,419 [11792] DEBUG Erp - select top 20 * from 
                    base_location
                 where  area_id =  '2' order by id
2020-01-05 14:13:43,420 [11792] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 where  area_id =  '2' ) tb_temp
2020-01-05 14:14:03,365 [11732] DEBUG Servicebase_location - 编辑记录
2020-01-05 14:14:03,366 [11732] DEBUG Servicebase_location - 获取动态对象
2020-01-05 14:14:03,367 [11732] DEBUG Erp - select base_Location.* from base_Location where  id =  ''
2020-01-05 14:14:03,391 [11732] DEBUG Erp - insert into base_Location([area_id],[warehouse_id],[wname],[aname],[name],[isenable],[remark],[create_username],[create_time]) values('2','1','成品仓库','成品仓库B','CP-B-001','true','','超级管理员','2020/1/5 14:14:03')
2020-01-05 14:14:06,467 [14008] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:14:06,468 [14008] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 14:14:06,469 [14008] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 14:14:08,759 [8372] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 14:14:09,371 [988] DEBUG Servicebase_location - 获取动态列表
2020-01-05 14:14:09,372 [988] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 14:14:09,373 [988] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 14:14:09,435 [8876] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:14:09,436 [8876] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 14:59:17,248 [9412] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/warehouse/Index','/Erp/warehouse')
2020-01-05 14:59:19,688 [10300] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 14:59:19,699 [10300] DEBUG Erp - select top 20 * from base_Warehouse order by id
2020-01-05 14:59:19,712 [10300] DEBUG Erp - select count(*) from ( select * from base_Warehouse ) tb_temp
2020-01-05 14:59:21,575 [12568] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/area/Index','/Erp/area')
2020-01-05 14:59:23,371 [8436] DEBUG Servicebase_area - 获取动态列表
2020-01-05 14:59:23,371 [8436] DEBUG Erp - select top 20 base_area.* from base_area order by id
2020-01-05 14:59:23,373 [8436] DEBUG Erp - select count(*) from ( select base_area.* from base_area ) tb_temp
2020-01-05 14:59:23,420 [12048] DEBUG Servicebase_warehouse - 获取动态列表
2020-01-05 14:59:23,420 [12048] DEBUG Erp - select base_warehouse.* from base_warehouse order by id
2020-01-05 14:59:24,222 [11156] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-05 14:59:25,987 [8436] DEBUG Servicebase_data - 获取动态列表
2020-01-05 14:59:25,988 [8436] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-05 14:59:26,007 [8436] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-05 15:00:01,797 [8436] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/direct/Index','/Mms/direct')
2020-01-05 15:00:01,828 [8436] DEBUG Servicemms_warehouse - 获取动态列表
2020-01-05 15:00:01,875 [8436] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  '201306030001'
2020-01-05 15:00:01,878 [8436] DEBUG Servicesys_code - 获取动态列表
2020-01-05 15:00:01,879 [8436] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'SupplyType'
2020-01-05 15:00:04,723 [12048] DEBUG Servicemms_direct - 获取动态列表
2020-01-05 15:00:04,724 [12048] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName
     from 
        mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-05 15:00:04,794 [12048] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName,D.MerchantsName as SupplierName,E.MerchantsName as PickUnitName
     from 
        mms_direct A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType     = A.MaterialType
        left join mms_merchants     D on D.MerchantsCode    = A.SupplierCode
        left join mms_merchants     E on E.MerchantsCode    = A.PickUnit
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-05 15:00:22,753 [9412] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/direct/edit')
2020-01-05 15:00:22,781 [9412] DEBUG Servicemms_direct - 获取实体对象
2020-01-05 15:00:22,783 [9412] DEBUG Mms - select mms_direct.* from mms_direct where  BillNo =  '201307240004'
2020-01-05 15:00:22,795 [9412] DEBUG Servicemms_direct - 获取上一条下一条数据
2020-01-05 15:00:22,843 [9412] DEBUG Servicemms_direct - 获取字段
2020-01-05 15:00:22,846 [9412] DEBUG Mms - select top 1 BillNo from mms_direct where  ProjectCode =  '201306030001' order by BillNo
2020-01-05 15:00:22,853 [9412] DEBUG Servicemms_direct - 获取字段
2020-01-05 15:00:22,854 [9412] DEBUG Mms - select top 1 BillNo from mms_direct where  BillNo < '201307240004'and ProjectCode =  '201306030001' order by BillNo desc
2020-01-05 15:00:22,861 [9412] DEBUG Servicemms_direct - 获取字段
2020-01-05 15:00:22,862 [9412] DEBUG Mms - select top 1 BillNo from mms_direct where  BillNo >  '201307240004'and ProjectCode =  '201306030001' order by BillNo
2020-01-05 15:00:22,868 [9412] DEBUG Servicemms_direct - 获取字段
2020-01-05 15:00:22,869 [9412] DEBUG Mms - select top 1 BillNo from mms_direct where  ProjectCode =  '201306030001' order by BillNo desc
2020-01-05 15:00:22,950 [9412] DEBUG Servicesys_code - 获取动态列表
2020-01-05 15:00:22,951 [9412] DEBUG Sys - select Text as value,Text as text from sys_code where  CodeType =  'MeasureUnit'
2020-01-05 15:00:22,952 [9412] DEBUG Servicesys_code - 获取动态列表
2020-01-05 15:00:22,952 [9412] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'SupplyType'
2020-01-05 15:00:22,953 [9412] DEBUG Servicesys_code - 获取动态列表
2020-01-05 15:00:22,953 [9412] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'PayType'
2020-01-05 15:00:22,955 [9412] DEBUG Servicesys_code - 获取动态列表
2020-01-05 15:00:22,955 [9412] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'MaterialUse'
2020-01-05 15:00:22,958 [9412] DEBUG Servicesys_code - 获取字段
2020-01-05 15:00:22,958 [9412] DEBUG Sys - select top 1 Code from sys_code where  CodeType =  'SupplyType'and IsEnable =  'True'and IsDefault =  'True'
2020-01-05 15:00:22,962 [9412] DEBUG Servicesys_code - 获取字段
2020-01-05 15:00:22,962 [9412] DEBUG Sys - select top 1 Code from sys_code where  CodeType =  'PayType'and IsEnable =  'True'and IsDefault =  'True'
2020-01-05 15:00:25,133 [7636] DEBUG ServiceModelBase - 获取动态列表
2020-01-05 15:00:25,134 [7636] DEBUG Mms - select 
    MerchantsCode   as   value,MerchantsName   as   text
   from 
    mms_merchants A
    left join mms_merchantsType B on B.MerchantsTypeCode = A.MerchantsTypeCode
   where  MerchantsCode in ('CG00302') order by MerchantsCode
2020-01-05 15:00:25,275 [8436] DEBUG ServiceModelBase - 获取动态列表
2020-01-05 15:00:25,276 [8436] DEBUG Mms - select 
    MerchantsCode   as   value,MerchantsName   as   text
   from 
    mms_merchants A
    left join mms_merchantsType B on B.MerchantsTypeCode = A.MerchantsTypeCode
   where  MerchantsCode in ('FB00503') order by MerchantsCode
2020-01-05 15:00:26,386 [12404] DEBUG Servicemms_direct - 获取动态列表
2020-01-05 15:00:26,386 [12404] DEBUG Mms - select 
        A.*, B.MaterialName,B.Model,B.Material
     from 
        mms_directDetail A
        left join mms_material B on B.MaterialCode = A.MaterialCode
     where  BillNo =  '201307240004' order by A.MaterialCode
2020-01-05 15:09:09,076 [14320] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,106 [14320] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,114 [14320] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,114 [14320] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,121 [14320] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,121 [14320] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 15:09:09,704 [2480] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 15:09:13,619 [10504] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 15:09:14,388 [11624] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 15:09:14,399 [11624] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:09:14,413 [11624] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 15:09:14,413 [11624] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:09:14,413 [11624] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 15:09:17,564 [10504] DEBUG Servicebase_material - 获取动态列表
2020-01-05 15:09:17,565 [10504] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 15:09:17,582 [10504] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 15:09:23,078 [2480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/generator/Index','/Sys/generator')
2020-01-05 15:09:31,478 [2480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:09:33,239 [12908] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:09:33,240 [12908] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:10:19,426 [10504] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:10:19,457 [10504] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:10:19,464 [10504] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '1b6fd337-33d7-4d16-b689-17cb89dace22'
2020-01-05 15:10:19,503 [10504] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('部件维护','10009','','icon-bug_error','/erp/parts','true','true','','超级管理员','2020/1/5 15:10:19','超级管理员','2020/1/5 15:10:19')
2020-01-05 15:10:19,560 [10504] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"1b6fd337-33d7-4d16-b689-17cb89dace22","MenuName":"部件维护","MenuCode":"10009","ParentCode":"","IconClass":"icon-bug_error","URL":"/erp/parts","IsVisible":"true","IsEnable":"true","MenuSeq":""}],"updated":[],"_changed":true}}','2020/1/5 15:10:19')
2020-01-05 15:10:19,877 [9016] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:10:19,878 [9016] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:10:42,323 [11336] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:10:42,883 [2480] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:10:42,883 [2480] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:10:56,144 [9016] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:10:56,145 [9016] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:10:56,146 [9016] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:10:56,169 [9016] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:10:56' where  MenuCode =  '10009'
2020-01-05 15:10:56,219 [9016] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[],"updated":[{"_id":"10009","MenuName":"部件维护","MenuCode":"10009","ParentCode":"10000","IconClass":"icon-bug_error","URL":"/erp/parts","IsVisible":"true","IsEnable":"true","MenuSeq":""}],"_changed":true}}','2020/1/5 15:10:56')
2020-01-05 15:10:56,565 [11504] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:10:56,566 [11504] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:10:57,713 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:10:58,467 [2480] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:10:58,468 [2480] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:11:09,276 [11008] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:11:09,277 [11008] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:11:09,278 [11008] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:11:09,280 [11008] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:11:09' where  MenuCode =  '10009'
2020-01-05 15:11:09,333 [11008] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[],"updated":[{"_id":"10009","MenuName":"部件维护","MenuCode":"10009","ParentCode":"10000","IconClass":"icon-bug_error","URL":"/erp/parts","IsVisible":"true","IsEnable":"true","MenuSeq":"9"}],"_changed":true}}','2020/1/5 15:11:09')
2020-01-05 15:11:09,587 [11624] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:11:09,587 [11624] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:11:58,737 [11336] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:11:58,738 [11336] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:11:58,739 [11336] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  'a5528963-f936-4ceb-936e-305fbeb44c87'
2020-01-05 15:11:58,741 [11336] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('工序维护','100010','10009','icon-disk_error','/erp/process','true','true','10','超级管理员','2020/1/5 15:11:58','超级管理员','2020/1/5 15:11:58')
2020-01-05 15:11:58,748 [11336] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"a5528963-f936-4ceb-936e-305fbeb44c87","MenuName":"工序维护","MenuCode":"100010","ParentCode":"10009","IconClass":"icon-disk_error","URL":"/erp/process","IsVisible":"true","IsEnable":"true","MenuSeq":"10"}],"updated":[],"_changed":true}}','2020/1/5 15:11:58')
2020-01-05 15:11:59,034 [4768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:11:59,034 [4768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:12:13,991 [11624] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 15:12:14,425 [4768] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 15:12:15,388 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:12:15,908 [1768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:12:15,908 [1768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:12:22,574 [2480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/permission/Index','/Sys/permission')
2020-01-05 15:12:23,240 [5340] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 15:12:23,246 [5340] DEBUG Servicesys_user - 获取动态列表
2020-01-05 15:12:23,247 [5340] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 15:12:23,249 [5340] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 15:12:23,250 [5340] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 15:12:24,476 [1768] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 15:12:24,477 [1768] DEBUG Sys - select A.*,B.PermissionName as ParentName from sys_permission A left join sys_permission B on B.PermissionCode = A.ParentCode
2020-01-05 15:12:25,929 [10440] DEBUG Servicesys_role - 获取实体列表
2020-01-05 15:12:25,931 [10440] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 15:12:27,222 [2480] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 15:12:27,230 [2480] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 15:12:27,317 [11504] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 15:12:27,317 [11504] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 15:12:27,575 [2480] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 15:12:33,339 [2480] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-05 15:12:33,345 [2480] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-05 15:12:33,347 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-05 15:12:33,352 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-05 15:12:33,353 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-05 15:12:33,354 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-05 15:12:33,355 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-05 15:12:33,356 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-05 15:12:33,357 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-05 15:12:33,357 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-05 15:12:33,358 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-05 15:12:33,359 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-05 15:12:33,360 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-05 15:12:33,361 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-05 15:12:33,362 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-05 15:12:33,363 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-05 15:12:33,364 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-05 15:12:33,364 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-05 15:12:33,365 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-05 15:12:33,366 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-05 15:12:33,367 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-05 15:12:33,368 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-05 15:12:33,370 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-05 15:12:33,371 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-05 15:12:33,374 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-05 15:12:33,375 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-05 15:12:33,375 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-05 15:12:33,376 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-05 15:12:33,377 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-05 15:12:33,378 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-05 15:12:33,379 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-05 15:12:33,380 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-05 15:12:33,381 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-05 15:12:33,381 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-05 15:12:33,382 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-05 15:12:33,383 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-05 15:12:33,384 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-05 15:12:33,385 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-05 15:12:33,386 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-05 15:12:33,387 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-05 15:12:33,388 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-05 15:12:33,389 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-05 15:12:33,390 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-05 15:12:33,390 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-05 15:12:33,391 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-05 15:12:33,392 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-05 15:12:33,393 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-05 15:12:33,394 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-05 15:12:33,395 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-05 15:12:33,395 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-05 15:12:33,396 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-05 15:12:33,397 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-05 15:12:33,398 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-05 15:12:33,399 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-05 15:12:33,400 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-05 15:12:33,402 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-05 15:12:33,402 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-05 15:12:33,403 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-05 15:12:33,404 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-05 15:12:33,405 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-05 15:12:33,406 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-05 15:12:33,407 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-05 15:12:33,408 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-05 15:12:33,409 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-05 15:12:33,409 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-05 15:12:33,410 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-05 15:12:33,411 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-05 15:12:33,412 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-05 15:12:33,413 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-05 15:12:33,414 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-05 15:12:33,415 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10006')
2020-01-05 15:12:33,416 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10007')
2020-01-05 15:12:33,417 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10008')
2020-01-05 15:12:33,418 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10009')
2020-01-05 15:12:33,418 [2480] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100010')
2020-01-05 15:12:33,426 [2480] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-05 15:12:33,428 [2480] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-05 15:12:33,429 [2480] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-05 15:12:33,431 [2480] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-05 15:12:33,432 [2480] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-05 15:12:33,438 [2480] DEBUG Servicesys_role - 修改角色数据权限
2020-01-05 15:12:33,440 [2480] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-05 15:12:33,445 [2480] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-05 15:12:33,451 [2480] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-05 15:12:33,464 [2480] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-05 15:12:35,478 [10440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 15:12:35,771 [2480] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 15:12:36,677 [1768] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 15:12:36,680 [1768] DEBUG Servicesys_user - 获取动态列表
2020-01-05 15:12:36,680 [1768] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 15:12:36,681 [1768] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 15:12:36,681 [1768] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 15:12:37,207 [4768] DEBUG Servicesys_role - 获取实体列表
2020-01-05 15:12:37,207 [4768] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 15:12:42,647 [4768] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 15:12:42,668 [4768] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:12:42,668 [4768] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 15:12:42,669 [4768] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:12:42,670 [4768] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 15:12:42,728 [4768] ERROR /erp/parts - System.InvalidOperationException: 未找到视图“Index”或其母版视图，或没有视图引擎支持搜索的位置。搜索了以下位置: 
~/Areas/Erp/Views/parts/Index.aspx
~/Areas/Erp/Views/parts/Index.ascx
~/Areas/Erp/Views/Shared/Index.aspx
~/Areas/Erp/Views/Shared/Index.ascx
~/Views/parts/Index.aspx
~/Views/parts/Index.ascx
~/Views/Shared/Index.aspx
~/Views/Shared/Index.ascx
~/Areas/Erp/Views/parts/Index.cshtml
~/Areas/Erp/Views/parts/Index.vbhtml
~/Areas/Erp/Views/Shared/Index.cshtml
~/Areas/Erp/Views/Shared/Index.vbhtml
~/Views/parts/Index.cshtml
~/Views/parts/Index.vbhtml
~/Views/Shared/Index.cshtml
~/Views/Shared/Index.vbhtml
   在 System.Web.Mvc.ViewResult.FindView(ControllerContext context)
   在 System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResult(ControllerContext controllerContext, ActionResult actionResult)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<InvokeActionResultWithFilters>b__17()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilter(IResultFilter filter, ResultExecutingContext preContext, Func`1 continuation)
   在 System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass1a.<>c__DisplayClass1c.<InvokeActionResultWithFilters>b__19()
   在 System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<>c__DisplayClass2a.<BeginInvokeAction>b__20()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass25.<BeginInvokeAction>b__22(IAsyncResult asyncResult)
2020-01-05 15:12:50,182 [2480] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:12:50,779 [1768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:12:50,779 [1768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:13:07,589 [11504] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:13:07,589 [11504] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:13:07,591 [11504] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:13:07,594 [11504] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '100010', [ParentCode] = '10000', [IconClass] = 'icon-disk_error', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:13:07' where  MenuCode =  '100010'
2020-01-05 15:13:07,648 [11504] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[],"updated":[{"_id":"100010","MenuName":"工序维护","MenuCode":"100010","ParentCode":"10000","IconClass":"icon-disk_error","URL":"/erp/process","IsVisible":"true","IsEnable":"true","MenuSeq":"10"}],"_changed":true}}','2020/1/5 15:13:07')
2020-01-05 15:13:07,929 [1768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:13:07,929 [1768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:13:09,512 [11624] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 15:13:09,763 [11336] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 15:13:10,858 [13304] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:13:11,437 [2480] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:13:11,437 [2480] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:13:18,003 [10176] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:13:18,462 [5340] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:13:18,463 [5340] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:13:22,105 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 15:13:22,109 [10440] DEBUG Servicesys_user - 获取动态列表
2020-01-05 15:13:22,109 [10440] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 15:13:22,110 [10440] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 15:13:22,110 [10440] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 15:13:22,668 [1376] DEBUG Servicesys_role - 获取实体列表
2020-01-05 15:13:22,669 [1376] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 15:13:25,003 [4768] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 15:13:25,006 [4768] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 15:13:25,112 [10176] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 15:13:25,113 [10176] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 15:13:25,150 [4768] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 15:13:49,491 [1768] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:13:50,027 [2480] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:13:50,027 [2480] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:14:05,485 [13304] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:14:05,486 [13304] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:05,487 [13304] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:14:05,489 [13304] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:05' where  MenuCode =  '10009'
2020-01-05 15:14:05,491 [13304] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:05,492 [13304] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:14:05,495 [13304] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '10010', [ParentCode] = '10000', [IconClass] = 'icon-disk_error', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:05' where  MenuCode =  '100010'
2020-01-05 15:14:05,555 [13304] ERROR Servicesys_menu - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<>c.<Context>b__2_1(ErrorEventArgs e) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 15:14:05,626 [13304] ERROR /api/sys/menu/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_menuService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Sys.Controllers.MenuApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\MenuController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 15:14:41,818 [4768] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:14:41,819 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:41,819 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:14:41,821 [4768] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:41' where  MenuCode =  '10009'
2020-01-05 15:14:41,824 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:41,824 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:14:41,825 [4768] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '1010', [ParentCode] = '10000', [IconClass] = 'icon-disk_error', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:41' where  MenuCode =  '100010'
2020-01-05 15:14:41,878 [4768] ERROR Servicesys_menu - 编辑记录失败
System.Exception: 主键重复，更新失败！
   在 Zephyr.Core.Db.<>c.<Context>b__2_1(ErrorEventArgs e) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 15:14:41,900 [4768] ERROR /api/sys/menu/edit - System.Exception: 主键重复，更新失败！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_menuService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Sys.Controllers.MenuApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\MenuController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 15:14:50,516 [4768] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:14:50,517 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:50,518 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:14:50,519 [4768] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:50' where  MenuCode =  '10009'
2020-01-05 15:14:50,521 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:14:50,521 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:14:50,523 [4768] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '10010', [ParentCode] = '10000', [IconClass] = 'icon-disk_error', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:14:50' where  MenuCode =  '100010'
2020-01-05 15:14:50,529 [4768] ERROR Servicesys_menu - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<>c.<Context>b__2_1(ErrorEventArgs e) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 15:14:50,575 [4768] ERROR /api/sys/menu/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_menuService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Sys.Controllers.MenuApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\MenuController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 15:15:03,908 [4768] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:15:03,909 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:15:03,910 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:15:03,911 [4768] DEBUG Sys - 
--删除角色字段Map
delete sys_roleMenuColumnMap
where id in 
(
select sys_roleMenuColumnMap.id
from sys_roleMenuColumnMap
left join sys_menu on sys_menu.menucode=sys_roleMenuColumnMap.menucode
where sys_menu.menucode='100010'
)

--删除角色菜单Map
delete sys_roleMenuMap
where id in 
(
select sys_roleMenuMap.id
from sys_roleMenuMap
left join sys_menu on sys_menu.menucode=sys_roleMenuMap.menucode
where sys_menu.menucode='100010'
)

--删除菜单按钮Map
delete sys_menuButtonMap
where sys_menuButtonMap.id in 
(
select id 
from sys_menuButtonMap
left join sys_menu on sys_menu.menucode=sys_menuButtonMap.menucode
where sys_menu.menucode='100010'
) 
2020-01-05 15:15:04,086 [4768] DEBUG Sys - delete from 
        sys_menu
     where  MenuCode =  '100010'
2020-01-05 15:15:04,096 [4768] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:15:04,096 [4768] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:15:04,098 [4768] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10009', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:15:04' where  MenuCode =  '10009'
2020-01-05 15:15:04,101 [4768] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[{"_id":"100010","MenuName":"工序维护","MenuCode":"10010","ParentCode":"10000","IconClass":"icon-disk_error","URL":"/erp/process","IsVisible":"true","IsEnable":"true","MenuSeq":"10"}],"inserted":[],"updated":[{"_id":"10009","MenuName":"部件维护","MenuCode":"10009","ParentCode":"10000","IconClass":"icon-bug_error","URL":"/erp/parts","IsVisible":"true","IsEnable":"true","MenuSeq":"9"}],"_changed":true}}','2020/1/5 15:15:04')
2020-01-05 15:15:04,419 [5340] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:15:04,419 [5340] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:15:47,618 [11336] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:15:47,619 [11336] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:15:47,621 [11336] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '7146c25e-6899-4ec6-bf77-ec83a99848c8'
2020-01-05 15:15:47,623 [11336] DEBUG Sys - insert into 
        sys_menu
    ([MenuName],[MenuCode],[ParentCode],[IconClass],[URL],[IsVisible],[IsEnable],[MenuSeq],[UpdatePerson],[UpdateDate],[CreatePerson],[CreateDate]) values('工序维护','10010','10000','icon-calculator_link','/erp/process','true','true','10','超级管理员','2020/1/5 15:15:47','超级管理员','2020/1/5 15:15:47')
2020-01-05 15:15:47,646 [11336] DEBUG Sys - insert into sys_log([UserCode],[UserName],[Position],[Target],[Type],[Message],[Date]) values('super','超级管理员','api/mms/send','菜单数据','修改','{"list":{"deleted":[],"inserted":[{"_id":"7146c25e-6899-4ec6-bf77-ec83a99848c8","MenuName":"工序维护","MenuCode":"10010","ParentCode":"10000","IconClass":"icon-calculator_link","URL":"/erp/process","IsVisible":"true","IsEnable":"true","MenuSeq":"10"}],"updated":[],"_changed":true}}','2020/1/5 15:15:47')
2020-01-05 15:15:48,006 [4768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:15:48,007 [4768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:15:51,231 [11808] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 15:15:51,242 [11808] DEBUG Servicesys_user - 获取动态列表
2020-01-05 15:15:51,242 [11808] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 15:15:51,244 [11808] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 15:15:51,244 [11808] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 15:15:51,814 [1376] DEBUG Servicesys_role - 获取实体列表
2020-01-05 15:15:51,814 [1376] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 15:15:57,115 [10440] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 15:15:57,118 [10440] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 15:15:57,215 [13304] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 15:15:57,215 [13304] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 15:15:57,257 [10440] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 15:16:04,485 [11808] DEBUG Servicesys_role - 修改角色菜单权限
2020-01-05 15:16:04,493 [11808] DEBUG Sys - delete from sys_roleMenuMap where [RoleCode] = 'super'
2020-01-05 15:16:04,510 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10')
2020-01-05 15:16:04,518 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1019')
2020-01-05 15:16:04,519 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1002')
2020-01-05 15:16:04,520 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1001')
2020-01-05 15:16:04,521 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1009')
2020-01-05 15:16:04,524 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1010')
2020-01-05 15:16:04,525 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1013')
2020-01-05 15:16:04,526 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1007')
2020-01-05 15:16:04,527 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1006')
2020-01-05 15:16:04,528 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1011')
2020-01-05 15:16:04,528 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1003')
2020-01-05 15:16:04,530 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1012')
2020-01-05 15:16:04,530 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1008')
2020-01-05 15:16:04,531 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1005')
2020-01-05 15:16:04,532 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1004')
2020-01-05 15:16:04,533 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0101')
2020-01-05 15:16:04,534 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100101')
2020-01-05 15:16:04,535 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100201')
2020-01-05 15:16:04,536 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100312')
2020-01-05 15:16:04,537 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100401')
2020-01-05 15:16:04,537 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100501')
2020-01-05 15:16:04,538 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100601')
2020-01-05 15:16:04,539 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100701')
2020-01-05 15:16:04,540 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100801')
2020-01-05 15:16:04,541 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','100901')
2020-01-05 15:16:04,542 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101001')
2020-01-05 15:16:04,543 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101101')
2020-01-05 15:16:04,544 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101201')
2020-01-05 15:16:04,544 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','101301')
2020-01-05 15:16:04,545 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','11')
2020-01-05 15:16:04,546 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1105')
2020-01-05 15:16:04,547 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1101')
2020-01-05 15:16:04,548 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1102')
2020-01-05 15:16:04,549 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1103')
2020-01-05 15:16:04,551 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1104')
2020-01-05 15:16:04,553 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1109')
2020-01-05 15:16:04,554 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','03')
2020-01-05 15:16:04,556 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0301')
2020-01-05 15:16:04,557 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0302')
2020-01-05 15:16:04,557 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0303')
2020-01-05 15:16:04,558 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','0304')
2020-01-05 15:16:04,560 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','12')
2020-01-05 15:16:04,561 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1204')
2020-01-05 15:16:04,562 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1201')
2020-01-05 15:16:04,563 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1202')
2020-01-05 15:16:04,564 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','1203')
2020-01-05 15:16:04,565 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','99')
2020-01-05 15:16:04,566 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9902')
2020-01-05 15:16:04,567 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9903')
2020-01-05 15:16:04,568 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9910')
2020-01-05 15:16:04,569 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9904')
2020-01-05 15:16:04,570 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9905')
2020-01-05 15:16:04,570 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9906')
2020-01-05 15:16:04,571 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9911')
2020-01-05 15:16:04,572 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9907')
2020-01-05 15:16:04,573 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','98')
2020-01-05 15:16:04,574 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9810')
2020-01-05 15:16:04,575 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9915')
2020-01-05 15:16:04,576 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9920')
2020-01-05 15:16:04,577 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9950')
2020-01-05 15:16:04,578 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9960')
2020-01-05 15:16:04,579 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','9961')
2020-01-05 15:16:04,580 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10000')
2020-01-05 15:16:04,581 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10001')
2020-01-05 15:16:04,583 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10010')
2020-01-05 15:16:04,584 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10002')
2020-01-05 15:16:04,585 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10003')
2020-01-05 15:16:04,586 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10004')
2020-01-05 15:16:04,587 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10005')
2020-01-05 15:16:04,587 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10006')
2020-01-05 15:16:04,588 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10007')
2020-01-05 15:16:04,589 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10008')
2020-01-05 15:16:04,590 [11808] DEBUG Sys - insert into sys_roleMenuMap([RoleCode],[MenuCode]) values('super','10009')
2020-01-05 15:16:04,592 [11808] DEBUG Servicesys_role - 修改角色菜单按钮权限
2020-01-05 15:16:04,593 [11808] DEBUG Sys - delete from sys_roleMenuButtonMap where [RoleCode] = 'super'
2020-01-05 15:16:04,594 [11808] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','add')
2020-01-05 15:16:04,596 [11808] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','edit')
2020-01-05 15:16:04,597 [11808] DEBUG Sys - insert into sys_roleMenuButtonMap([RoleCode],[MenuCode],[ButtonCode]) values('super','1001','delete')
2020-01-05 15:16:04,599 [11808] DEBUG Servicesys_role - 修改角色数据权限
2020-01-05 15:16:04,600 [11808] DEBUG Sys - delete from sys_rolePermissionMap where [RoleCode] = 'super'
2020-01-05 15:16:04,601 [11808] DEBUG Servicesys_role - 修改角色数据列权限
2020-01-05 15:16:04,602 [11808] DEBUG Sys - delete from sys_roleMenuColumnMap where [RoleCode] = 'super'
2020-01-05 15:16:04,603 [11808] DEBUG Sys - insert into sys_roleMenuColumnMap([RoleCode],[MenuCode],[IsReject],[FieldName]) values('super','1001','True','BillNo')
2020-01-05 15:16:06,510 [4768] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 15:16:06,821 [13304] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 15:16:07,892 [5340] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 15:16:07,895 [5340] DEBUG Servicesys_user - 获取动态列表
2020-01-05 15:16:07,896 [5340] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 15:16:07,897 [5340] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 15:16:07,897 [5340] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 15:16:08,502 [11808] DEBUG Servicesys_role - 获取实体列表
2020-01-05 15:16:08,503 [11808] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 15:16:32,197 [1376] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/process/Index','/Erp/process')
2020-01-05 15:16:32,247 [1376] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:16:32,248 [1376] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 15:16:32,249 [1376] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:16:32,249 [1376] DEBUG Erp - select name as value,name as text from base_data where  type =  '工序'and isenable =  '1'
2020-01-05 15:16:34,734 [11336] DEBUG Servicebase_process - 获取动态列表
2020-01-05 15:16:34,735 [11336] DEBUG Erp - select top 20 * from base_Process order by id
2020-01-05 15:16:34,757 [11336] DEBUG Erp - select count(*) from ( select * from base_Process ) tb_temp
2020-01-05 15:16:55,604 [5340] DEBUG Servicebase_process - 编辑记录
2020-01-05 15:16:55,605 [5340] DEBUG Servicebase_process - 获取动态对象
2020-01-05 15:16:55,645 [5340] DEBUG Erp - select base_Process.* from base_Process where  id =  ''
2020-01-05 15:16:55,653 [5340] DEBUG Erp - insert into base_Process([name],[type],[unit],[guige],[isenable],[remark],[create_username],[create_time]) values('模切','','米','101','true','','超级管理员','2020/1/5 15:16:55')
2020-01-05 15:16:58,191 [1376] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/process/Index','/Erp/process')
2020-01-05 15:16:58,196 [1376] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:16:58,207 [1376] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 15:16:58,208 [1376] DEBUG Servicebase_data - 获取动态列表
2020-01-05 15:16:58,208 [1376] DEBUG Erp - select name as value,name as text from base_data where  type =  '工序'and isenable =  '1'
2020-01-05 15:16:59,044 [4768] DEBUG Servicebase_process - 获取动态列表
2020-01-05 15:16:59,045 [4768] DEBUG Erp - select top 20 * from base_Process order by id
2020-01-05 15:16:59,047 [4768] DEBUG Erp - select count(*) from ( select * from base_Process ) tb_temp
2020-01-05 15:17:13,715 [10440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:17:14,138 [4768] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:17:14,138 [4768] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 15:17:57,982 [11808] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:17:57,984 [11808] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:17:57,985 [11808] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10010'
2020-01-05 15:17:57,987 [11808] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '100100', [ParentCode] = '10000', [IconClass] = 'icon-calculator_link', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:17:57' where  MenuCode =  '10010'
2020-01-05 15:17:58,023 [11808] ERROR Servicesys_menu - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<>c.<Context>b__2_1(ErrorEventArgs e) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 15:17:58,046 [11808] ERROR /api/sys/menu/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_menuService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Sys.Controllers.MenuApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\MenuController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 15:18:25,262 [11336] DEBUG Servicesys_menu - 编辑记录
2020-01-05 15:18:25,263 [11336] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:18:25,263 [11336] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10010'
2020-01-05 15:18:25,265 [11336] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '工序维护', [MenuCode] = '10010', [ParentCode] = '10000', [IconClass] = 'icon-calculator_link', [URL] = '/erp/process', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '10', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:18:25' where  MenuCode =  '10010'
2020-01-05 15:18:25,299 [11336] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:18:25,300 [11336] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10001'
2020-01-05 15:18:25,309 [11336] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '物料管理', [MenuCode] = '10001', [ParentCode] = '10000', [IconClass] = 'icon-calendar_select_day', [URL] = '/erp/material', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '1', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:18:25' where  MenuCode =  '10001'
2020-01-05 15:18:25,332 [11336] DEBUG Servicesys_menu - 获取动态对象
2020-01-05 15:18:25,332 [11336] DEBUG Sys - select 
        sys_menu
    .* from 
        sys_menu
     where  MenuCode =  '10009'
2020-01-05 15:18:25,333 [11336] DEBUG Sys - update 
        sys_menu
     set [MenuName] = '部件维护', [MenuCode] = '10011', [ParentCode] = '10000', [IconClass] = 'icon-bug_error', [URL] = '/erp/parts', [IsVisible] = 'true', [IsEnable] = 'true', [MenuSeq] = '9', [UpdatePerson] = '超级管理员', [UpdateDate] = '2020/1/5 15:18:25' where  MenuCode =  '10009'
2020-01-05 15:18:25,338 [11336] ERROR Servicesys_menu - 编辑记录失败
System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.Db.<>c.<Context>b__2_1(ErrorEventArgs e) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Core\Db.cs:行号 98
   在 Zephyr.Data.ExecuteQueryHandler.HandleQueryException(Exception exception) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 105
   在 Zephyr.Data.ExecuteQueryHandler.ExecuteQuery(Boolean useReader, Action action) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\Handlers\ExecuteQueryHandler.cs:行号 28
   在 Zephyr.Data.DbCommand.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Command\PartialClasses\Execute.cs:行号 9
   在 Zephyr.Data.BaseUpdateBuilder.Execute() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Data\Builders\Update\BaseUpdateBuilder.cs:行号 29
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__3(RequestWrapper x) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 61
   在 Zephyr.Core.ServiceBase`1.<>c__DisplayClass34_0.<Edit>b__0() 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 119
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 44
2020-01-05 15:18:25,358 [11336] ERROR /api/sys/menu/edit - System.Exception: 数据已经被引用，更新失败，请先删除引用数据并重试！
   在 Zephyr.Core.LogHelper.Logger(ILog log, String function, ErrorHandle errorHandleType, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Logs\LogHelper.cs:行号 54
   在 Zephyr.Core.ServiceBase`1.Logger(String function, Action tryHandle, Action`1 catchHandle, Action finallyHandle) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseLog.cs:行号 23
   在 Zephyr.Core.ServiceBase`1.Edit(RequestWrapper formWrapper, RequestWrapper listWrapper, JObject data) 位置 D:\Project\Code\WEBERP\Code\Zephyr.Net\Zephyr.Core\Base\ServiceBaseEdit.cs:行号 68
   在 CallSite.Target(Closure , CallSite , sys_menuService , Object , RequestWrapper , Object )
   在 ERP.Web.Areas.Sys.Controllers.MenuApiController.Edit(Object data) 位置 D:\Project\Code\WEBERP\Code\ERP.Web\Areas\Sys\Controllers\MenuController.cs:行号 68
   在 lambda_method(Closure , Object , Object[] )
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.<>c__DisplayClassf.<GetExecutor>b__9(Object instance, Object[] methodParameters)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.ActionExecutor.Execute(Object instance, Object[] arguments)
   在 System.Web.Http.Controllers.ReflectedHttpActionDescriptor.<>c__DisplayClass5.<ExecuteAsync>b__4()
   在 System.Threading.Tasks.TaskHelpers.RunSynchronously[TResult](Func`1 func, CancellationToken cancellationToken)
2020-01-05 15:18:30,006 [11336] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 15:18:30,571 [7892] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 15:18:30,571 [7892] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 20:25:43,117 [5124] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:25:43,138 [5124] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:25:43,145 [5124] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:25:43,145 [5124] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:25:43,150 [5124] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:25:43,150 [5124] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:26:11,531 [11712] DEBUG Servicesys_user - 获取实体对象
2020-01-05 20:26:11,538 [11712] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-05 20:26:11,589 [11712] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-05 20:26:11,616 [11712] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/5 20:26:11')
2020-01-05 20:26:11,617 [11712] DEBUG Servicemms_project - 获取实体对象
2020-01-05 20:26:11,617 [11712] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 20:26:11,641 [12716] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:26:13,024 [7668] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:26:18,546 [13284] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 20:26:18,572 [13284] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:18,575 [13284] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 20:26:18,577 [13284] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:18,578 [13284] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 20:26:20,146 [13104] DEBUG Servicebase_material - 获取动态列表
2020-01-05 20:26:20,146 [13104] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 20:26:20,157 [13104] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 20:26:22,107 [7140] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:26:22,114 [7140] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:22,115 [7140] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:26:24,154 [11804] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:26:24,155 [11804] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:26:24,183 [11804] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:26:26,556 [8444] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:26:26,561 [8444] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:26,561 [8444] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:26:27,155 [7932] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:26:27,156 [7932] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:26:27,157 [7932] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:26:30,043 [11764] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 20:26:31,849 [11712] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:26:31,852 [11712] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:31,852 [11712] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:26:32,324 [13104] DEBUG Servicebase_location - 获取动态列表
2020-01-05 20:26:32,325 [13104] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 20:26:32,342 [7140] DEBUG Servicebase_area - 获取动态列表
2020-01-05 20:26:32,343 [7140] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 20:26:32,353 [13104] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 20:26:32,712 [11804] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:26:32,713 [11804] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:26:32,714 [11804] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:26:40,398 [11764] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/material/Index','/Erp/material')
2020-01-05 20:26:40,402 [11764] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:40,403 [11764] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 20:26:40,404 [11764] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:40,404 [11764] DEBUG Erp - select name as value,name as text from base_data where  type =  '物料'and isenable =  '1'
2020-01-05 20:26:41,165 [11468] DEBUG Servicebase_material - 获取动态列表
2020-01-05 20:26:41,166 [11468] DEBUG Erp - select top 20 * from base_material order by id
2020-01-05 20:26:41,168 [11468] DEBUG Erp - select count(*) from ( select * from base_material ) tb_temp
2020-01-05 20:26:43,887 [12716] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/basedata/Index','/Erp/basedata')
2020-01-05 20:26:46,018 [8448] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:26:46,019 [8448] DEBUG Erp - select top 20 * from base_data order by create_time
2020-01-05 20:26:46,048 [8448] DEBUG Erp - select count(*) from ( select * from base_data ) tb_temp
2020-01-05 20:27:03,770 [12440] DEBUG Servicebase_data - 编辑记录
2020-01-05 20:27:03,799 [12440] DEBUG Servicebase_data - 获取动态对象
2020-01-05 20:27:03,805 [12440] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-05 20:27:03,824 [12440] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('主部件','部件','true','','超级管理员','2020/1/5 20:27:03')
2020-01-05 20:27:27,499 [11804] DEBUG Servicebase_data - 编辑记录
2020-01-05 20:27:27,500 [11804] DEBUG Servicebase_data - 获取动态对象
2020-01-05 20:27:27,529 [11804] DEBUG Erp - select base_data.* from base_data where  id =  ''
2020-01-05 20:27:27,531 [11804] DEBUG Erp - insert into base_data([name],[type],[isenable],[remark],[create_username],[create_time]) values('副部件','部件','true','','超级管理员','2020/1/5 20:27:27')
2020-01-05 20:27:30,818 [8444] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:27:30,822 [8444] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:27:30,822 [8444] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:27:31,568 [11100] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:27:31,568 [11100] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:27:31,594 [11100] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:27:52,103 [11468] DEBUG Servicebase_parts - 编辑记录
2020-01-05 20:27:52,104 [11468] DEBUG Servicebase_parts - 获取动态对象
2020-01-05 20:27:52,120 [11468] DEBUG Erp - select base_Parts.* from base_Parts where  id =  ''
2020-01-05 20:27:52,126 [11468] DEBUG Erp - insert into base_Parts([name],[type],[guige],[isenable],[remark],[create_username],[create_time]) values('拉手','主部件','P20','false','','超级管理员','2020/1/5 20:27:52')
2020-01-05 20:27:57,184 [7140] DEBUG Servicebase_parts - 编辑记录
2020-01-05 20:27:57,184 [7140] DEBUG Servicebase_parts - 获取动态对象
2020-01-05 20:27:57,186 [7140] DEBUG Erp - select base_Parts.* from base_Parts where  id =  ''
2020-01-05 20:27:57,212 [7140] DEBUG Erp - update base_Parts set [name] = '拉手', [type] = '主部件', [guige] = 'P20', [isenable] = 'true', [remark] = '', [create_time] = '', [create_username] = '' where  id =  ''
2020-01-05 20:28:01,091 [11468] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:28:01,096 [11468] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:01,097 [11468] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:28:01,701 [7932] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:28:01,702 [7932] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:28:01,704 [7932] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:28:10,082 [7668] DEBUG Servicebase_parts - 编辑记录
2020-01-05 20:28:10,083 [7668] DEBUG Servicebase_parts - 获取动态对象
2020-01-05 20:28:10,085 [7668] DEBUG Erp - select base_Parts.* from base_Parts where  id =  '1'
2020-01-05 20:28:10,089 [7668] DEBUG Erp - update base_Parts set [name] = '拉手', [type] = '主部件', [guige] = 'P20', [isenable] = 'true', [remark] = '', [create_time] = '2020/1/5 20:27:52', [create_username] = '超级管理员' where  id =  '1'
2020-01-05 20:28:12,056 [12716] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:28:12,062 [12716] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:12,062 [12716] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:28:12,713 [8444] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:28:12,713 [8444] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:28:12,714 [8444] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:28:16,227 [11804] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/product/Index','/Erp/product')
2020-01-05 20:28:16,250 [11804] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:16,251 [11804] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 20:28:16,261 [11804] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:16,261 [11804] DEBUG Erp - select name as value,name as text from base_data where  type =  '产品'and isenable =  '1'
2020-01-05 20:28:18,161 [11468] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/process/Index','/Erp/process')
2020-01-05 20:28:18,166 [11468] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:18,166 [11468] DEBUG Erp - select name as value,name as text from base_data where  type =  '单位'and isenable =  '1'
2020-01-05 20:28:18,167 [11468] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:18,167 [11468] DEBUG Erp - select name as value,name as text from base_data where  type =  '工序'and isenable =  '1'
2020-01-05 20:28:18,384 [11484] DEBUG Servicebase_product - 获取动态列表
2020-01-05 20:28:18,384 [11484] DEBUG Erp - select top 20 * from base_Product order by id
2020-01-05 20:28:18,397 [11484] DEBUG Erp - select count(*) from ( select * from base_Product ) tb_temp
2020-01-05 20:28:20,357 [12096] DEBUG Servicebase_process - 获取动态列表
2020-01-05 20:28:20,360 [12096] DEBUG Erp - select top 20 * from base_Process order by id
2020-01-05 20:28:20,384 [12096] DEBUG Erp - select count(*) from ( select * from base_Process ) tb_temp
2020-01-05 20:28:26,461 [1388] DEBUG Servicebase_process - 获取动态列表
2020-01-05 20:28:26,461 [1388] DEBUG Erp - select top 20 * from base_Process order by create_time asc
2020-01-05 20:28:26,464 [1388] DEBUG Erp - select count(*) from ( select * from base_Process ) tb_temp
2020-01-05 20:28:41,307 [1388] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:28:41,316 [1388] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:28:41,316 [1388] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:28:42,118 [5464] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:28:42,118 [5464] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:28:42,121 [5464] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:29:44,533 [7932] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:29:45,093 [11484] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:29:46,077 [11468] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:29:46,081 [11468] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:29:46,081 [11468] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:29:47,825 [13284] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:29:47,825 [13284] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:29:47,825 [13284] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:30:31,482 [5464] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:30:31,989 [8444] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:30:32,821 [13104] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:30:32,824 [13104] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:30:32,824 [13104] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:30:35,958 [8160] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 20:30:35,958 [8160] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 20:30:35,959 [8160] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 20:32:54,749 [7932] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:32:55,523 [11484] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:32:56,516 [11100] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:32:56,521 [11100] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:32:56,521 [11100] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:40:00,878 [1672] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:40:01,525 [8160] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:40:02,623 [12440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:40:02,678 [12440] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:40:02,698 [12440] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:40:19,749 [8444] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:40:20,346 [11804] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:40:21,615 [12716] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:40:21,662 [12716] DEBUG Servicebase_data - 获取动态列表
2020-01-05 20:40:21,662 [12716] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 20:49:16,590 [14272] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:16,633 [14272] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:16,642 [14272] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:16,643 [14272] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:16,652 [14272] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:16,654 [14272] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 20:49:48,358 [7668] DEBUG Servicesys_user - 获取实体对象
2020-01-05 20:49:48,370 [7668] DEBUG Sys - select sys_user.* from sys_user where  UserCode =  'super'and Password =  '1234'and IsEnable =  'True'
2020-01-05 20:49:48,446 [7668] DEBUG Sys - 
update sys_user
set LoginCount = isnull(LoginCount,0) + 1
   ,LastLoginDate = getdate()
where UserCode = 'super' 
2020-01-05 20:49:48,482 [7668] DEBUG Sys - insert into sys_loginHistory([UserCode],[UserName],[HostName],[HostIP],[LoginCity],[LoginDate]) values('super','超级管理员','4S6DBKLDWJUEQVW','localhost','上海市','2020/1/5 20:49:48')
2020-01-05 20:49:48,484 [7668] DEBUG Servicemms_project - 获取实体对象
2020-01-05 20:49:48,484 [7668] DEBUG Mms - select mms_project.* from mms_project where  ProjectCode =  '201306030001'
2020-01-05 20:49:48,520 [12440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:49:50,839 [7668] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:49:56,397 [7140] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:50:42,780 [8448] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:50:43,756 [13104] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:50:44,370 [12440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:58:58,778 [5092] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:58:59,386 [8140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:59:00,369 [7932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 20:59:49,546 [12440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 20:59:50,182 [8140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 20:59:51,228 [7728] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:00:43,238 [1392] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:00:44,072 [10180] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:00:45,290 [7932] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:01:12,429 [7728] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:01:13,099 [7932] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:01:13,836 [10176] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:02:30,367 [5008] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:02:30,959 [7932] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:02:31,736 [12440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:12:28,323 [11880] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,358 [11880] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,367 [11880] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,367 [11880] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,375 [11880] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,376 [11880] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:12:28,936 [5008] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:12:32,309 [8108] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:12:36,657 [5092] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:12:37,224 [8108] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:12:37,231 [8108] DEBUG Erp - select * from base_Parts order by id
2020-01-05 21:12:41,817 [8108] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:12:41,817 [8108] DEBUG Erp - select * from base_Parts order by create_username asc
2020-01-05 21:13:04,750 [5092] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 21:13:06,815 [8356] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 21:13:06,816 [8356] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 21:13:10,443 [7728] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 21:13:10,449 [7728] DEBUG Servicesys_user - 获取动态列表
2020-01-05 21:13:10,450 [7728] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 21:13:10,452 [7728] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 21:13:10,452 [7728] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 21:13:12,323 [5092] DEBUG Servicesys_role - 获取实体列表
2020-01-05 21:13:12,326 [5092] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 21:15:49,582 [5092] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:15:50,182 [7728] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:15:51,074 [5008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:15:53,913 [8356] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:15:53,914 [8356] DEBUG Erp - select * from base_Parts order by id
2020-01-05 21:19:24,019 [8108] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 21:19:24,022 [8108] DEBUG Servicesys_user - 获取动态列表
2020-01-05 21:19:24,022 [8108] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 21:19:24,053 [8108] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 21:19:24,054 [8108] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 21:19:25,376 [11764] DEBUG Servicesys_role - 获取实体列表
2020-01-05 21:19:25,376 [11764] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 21:19:27,140 [7728] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 21:19:27,140 [7728] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 21:19:27,150 [5008] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 21:19:27,153 [5008] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 21:19:27,253 [5008] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 21:19:31,709 [11764] DEBUG Sys - 
 select A1.UserName as MemberName ,A1.UserCode as MemberCode,'user' as MemberType
  from sys_user A1
 where A1.UserCode in (select B1.UserCode from sys_userRoleMap B1 where B1.RoleCode = 'super')
union
 select A2.OrganizeName as MemberName ,A2.OrganizeCode as MemberCode,'organize' as MemberType
   from sys_organize A2
  where A2.OrganizeCode in (select B2.OrganizeCode from sys_organizeRoleMap B2 where B2.RoleCode = 'super')
2020-01-05 21:19:51,278 [11764] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 21:19:51,282 [11764] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 21:19:51,341 [5008] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 21:19:51,349 [5008] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 21:19:51,378 [11764] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 21:21:38,383 [12440] DEBUG Sys - 
 select A1.UserName as MemberName ,A1.UserCode as MemberCode,'user' as MemberType
  from sys_user A1
 where A1.UserCode in (select B1.UserCode from sys_userRoleMap B1 where B1.RoleCode = 'super')
union
 select A2.OrganizeName as MemberName ,A2.OrganizeCode as MemberCode,'organize' as MemberType
   from sys_organize A2
  where A2.OrganizeCode in (select B2.OrganizeCode from sys_organizeRoleMap B2 where B2.RoleCode = 'super')
2020-01-05 21:21:41,160 [10836] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 21:21:41,161 [10836] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 21:21:41,197 [7728] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 21:21:41,197 [7728] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 21:21:41,224 [10836] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 21:25:00,363 [5008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-05 21:25:02,676 [12440] DEBUG Servicesys_user - 获取实体列表
2020-01-05 21:25:02,677 [12440] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-05 21:25:02,708 [12432] DEBUG Servicesys_organize - 获取实体列表
2020-01-05 21:25:02,708 [12432] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-05 21:25:02,747 [12440] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-05 21:25:06,952 [8356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/code/Index','/Sys/code')
2020-01-05 21:25:09,099 [10536] DEBUG Servicesys_codeType - 获取动态列表
2020-01-05 21:25:09,100 [10536] DEBUG Sys - select sys_codeType.* from sys_codeType order by Seq,CodeType
2020-01-05 21:25:09,283 [12432] DEBUG Servicesys_code - 获取实体列表
2020-01-05 21:25:09,283 [12432] DEBUG Sys - select top 20 sys_code.* from sys_code order by Seq
2020-01-05 21:25:09,303 [12432] DEBUG Sys - select count(*) from ( select sys_code.* from sys_code ) tb_temp
2020-01-05 21:25:11,328 [5008] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/parameter/Index','/Sys/parameter')
2020-01-05 21:25:13,079 [8032] DEBUG Servicesys_parameter - 获取实体列表
2020-01-05 21:25:13,080 [8032] DEBUG Sys - select top 20 sys_parameter.* from sys_parameter order by ParamCode
2020-01-05 21:25:13,100 [8032] DEBUG Sys - select count(*) from ( select sys_parameter.* from sys_parameter ) tb_temp
2020-01-05 21:25:14,747 [5092] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2020-01-05 21:25:16,216 [10836] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/log/Index','/Sys/log')
2020-01-05 21:25:17,218 [12440] DEBUG Servicesys_loginHistory - 获取实体列表
2020-01-05 21:25:17,219 [12440] DEBUG Sys - select top 20 
        A.*
     from 
        sys_loginHistory A
     order by A.ID desc
2020-01-05 21:25:17,236 [12440] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_loginHistory A
     ) tb_temp
2020-01-05 21:25:17,282 [8356] DEBUG Servicesys_log - 获取实体列表
2020-01-05 21:25:17,283 [8356] DEBUG Sys - select top 20 
        A.*
     from 
        sys_log A
     order by A.ID desc
2020-01-05 21:25:17,306 [8356] DEBUG Sys - select count(*) from ( select 
        A.*
     from 
        sys_log A
     ) tb_temp
2020-01-05 21:25:38,817 [10536] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/merchant/Index','/Mms/merchant')
2020-01-05 21:25:41,052 [7728] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/material/Index','/Mms/material')
2020-01-05 21:25:41,156 [10836] DEBUG Servicemms_merchants - 获取实体列表
2020-01-05 21:25:41,161 [10536] DEBUG Servicemms_merchantsType - 获取动态列表
2020-01-05 21:25:41,170 [10836] DEBUG Mms - select top 20 mms_merchants.* from mms_merchants order by MerchantsCode
2020-01-05 21:25:41,179 [10536] DEBUG Mms - select mms_merchantsType.* from mms_merchantsType order by MerchantsTypeCode
2020-01-05 21:25:41,196 [10836] DEBUG Mms - select count(*) from ( select mms_merchants.* from mms_merchants ) tb_temp
2020-01-05 21:25:42,902 [5092] DEBUG Servicemms_materialType - 获取动态列表
2020-01-05 21:25:42,903 [5092] DEBUG Mms - select mms_materialType.* from mms_materialType order by MaterialType
2020-01-05 21:25:43,303 [10536] DEBUG Servicemms_material - 获取实体列表
2020-01-05 21:25:43,304 [10536] DEBUG Mms - select top 20 mms_material.* from mms_material order by MaterialCode
2020-01-05 21:25:43,322 [10536] DEBUG Mms - select count(*) from ( select mms_material.* from mms_material ) tb_temp
2020-01-05 21:25:45,978 [10836] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/warehouse/Index','/Mms/warehouse')
2020-01-05 21:25:47,928 [7728] DEBUG Servicemms_warehouse - 获取实体列表
2020-01-05 21:25:47,929 [7728] DEBUG Mms - select top 20 mms_warehouse.* from mms_warehouse order by WarehouseCode
2020-01-05 21:25:47,946 [7728] DEBUG Mms - select count(*) from ( select mms_warehouse.* from mms_warehouse ) tb_temp
2020-01-05 21:25:47,998 [8356] DEBUG Servicemms_project - 获取动态列表
2020-01-05 21:25:47,999 [8356] DEBUG Mms - select ProjectName as text,ProjectCode as id,ParentCode as pid from mms_project
2020-01-05 21:25:54,571 [12440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/repair/Index','/Mms/repair')
2020-01-05 21:25:54,599 [12440] DEBUG Servicemms_warehouse - 获取动态列表
2020-01-05 21:25:54,602 [12440] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  '201306030001'
2020-01-05 21:25:56,806 [5008] DEBUG Servicemms_repair - 获取动态列表
2020-01-05 21:25:56,807 [5008] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MerchantsName
     from 
        mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-05 21:25:56,825 [5008] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MerchantsName
     from 
        mms_repair A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.RepairUnit
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-05 21:26:01,284 [8356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/rentoff/Index','/Mms/rentoff')
2020-01-05 21:26:01,302 [8356] DEBUG Servicemms_warehouse - 获取动态列表
2020-01-05 21:26:01,303 [8356] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  '201306030001'
2020-01-05 21:26:03,466 [10536] DEBUG Servicemms_rentOff - 获取动态列表
2020-01-05 21:26:03,467 [10536] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MerchantsName
     from 
        mms_rentOff A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.SupplierCode
     order by A.BillNo
2020-01-05 21:26:03,493 [10536] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MerchantsName
     from 
        mms_rentOff A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_merchants     C on C.MerchantsCode    = A.SupplierCode
     ) tb_temp
2020-01-05 21:26:07,234 [12432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Mms/transfer/Index','/Mms/transfer')
2020-01-05 21:26:07,268 [12432] DEBUG Servicesys_code - 获取动态列表
2020-01-05 21:26:07,269 [12432] DEBUG Sys - select Code as value,Text as text from sys_code where  CodeType =  'Pricing'
2020-01-05 21:26:07,284 [12432] DEBUG Servicemms_warehouse - 获取动态列表
2020-01-05 21:26:07,285 [12432] DEBUG Mms - select WarehouseCode as value,WarehouseName as text from mms_warehouse where  ProjectCode =  '201306030001'
2020-01-05 21:26:09,855 [12440] DEBUG Servicemms_transfer - 获取动态列表
2020-01-05 21:26:09,855 [12440] DEBUG Mms - select top 20 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as ReceiveUnitName
     from 
        mms_transfer A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.ReceiveUnit
     where  A.ProjectCode =  '201306030001' order by A.BillNo
2020-01-05 21:26:09,909 [12440] DEBUG Mms - select count(*) from ( select 
        A.*, B.ProjectName, C.MaterialTypeName, D.WarehouseName,E.MerchantsName as ReceiveUnitName
     from 
        mms_transfer A
        left join mms_project       B on B.ProjectCode      = A.ProjectCode
        left join mms_materialType  C on C.MaterialType = A.MaterialType
        left join mms_warehouse         D on D.WarehouseCode       = A.WarehouseCode
        left join mms_merchants     E on E.MerchantsCode    = A.ReceiveUnit
     where  A.ProjectCode =  '201306030001' ) tb_temp
2020-01-05 21:35:35,380 [10388] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,400 [10388] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,404 [10388] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,405 [10388] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,407 [10388] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,408 [10388] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:35:35,715 [8632] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Parts/Index','/Erp/Parts')
2020-01-05 21:35:35,737 [8632] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:35:35,743 [8632] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:36:00,858 [8356] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:36:03,559 [8568] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:36:03,960 [13296] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:36:03,964 [13296] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:36:03,964 [13296] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:36:04,317 [10536] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:36:04,318 [10536] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:36:04,325 [10536] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:36:35,260 [10836] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:36:35,769 [12124] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:36:36,596 [8568] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:36:36,599 [8568] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:36:36,599 [8568] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:36:38,989 [10536] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:36:38,989 [10536] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:36:38,990 [10536] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:37:20,782 [13296] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:37:21,427 [8568] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:37:22,533 [12432] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:37:22,537 [12432] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:37:22,537 [12432] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:37:24,422 [12124] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:37:24,422 [12124] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:37:24,423 [12124] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:37:48,455 [9256] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:37:48,459 [9256] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:37:48,459 [9256] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:37:49,242 [10836] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:37:49,242 [10836] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:37:49,248 [10836] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:37:50,103 [11456] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:37:50,686 [10536] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:37:51,656 [8356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:37:51,659 [8356] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:37:51,659 [8356] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:37:53,087 [13296] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:37:53,087 [13296] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:37:53,088 [13296] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:41:38,303 [11608] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/menu/Index','/Sys/menu')
2020-01-05 21:41:40,236 [12124] DEBUG Servicesys_menu - 获取动态列表
2020-01-05 21:41:40,237 [12124] DEBUG Sys - select A.*,B.MenuName as ParentName from sys_menu A left join sys_menu B on B.MenuCode = A.ParentCode order by A.MenuSeq,A.MenuCode
2020-01-05 21:41:42,419 [13296] DEBUG Sys - 
select A.*,
       case when B.ID is null then 0 else 1 end as Selected
from sys_button A
left join sys_menuButtonMap B on B.MenuCode = '0103' and B.ButtonCode = A.ButtonCode
order by ButtonSeq
2020-01-05 21:41:47,147 [12760] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-05 21:41:49,034 [10536] DEBUG Servicesys_user - 获取实体列表
2020-01-05 21:41:49,036 [10536] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-05 21:41:49,042 [9256] DEBUG Servicesys_organize - 获取实体列表
2020-01-05 21:41:49,043 [9256] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-05 21:41:49,066 [10536] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-05 21:41:51,547 [11456] DEBUG Sys - 
select distinct A.RoleCode,A.RoleName
,(case when B.RoleCode is null then 'false' else 'true' end) as Checked
from sys_role A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode and B.UserCode = 'scy'
2020-01-05 21:41:54,128 [8356] DEBUG Servicesys_userSetting - 获取实体列表
2020-01-05 21:41:54,128 [8356] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'scy'
2020-01-05 21:59:42,361 [12300] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,387 [12300] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,395 [12300] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,395 [12300] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,401 [12300] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,402 [12300] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 21:59:42,944 [5008] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:59:46,281 [5668] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 21:59:50,462 [1192] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 21:59:50,472 [1192] DEBUG Servicebase_data - 获取动态列表
2020-01-05 21:59:50,482 [1192] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 21:59:51,203 [6620] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 21:59:51,203 [6620] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 21:59:51,214 [6620] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 21:59:58,492 [5668] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 21:59:59,129 [10396] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:00:00,091 [10584] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:00:00,094 [10584] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:00:00,094 [10584] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:00:01,138 [8632] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:00:01,138 [8632] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:00:01,139 [8632] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:00:32,409 [6620] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:00:34,227 [14140] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:01:02,123 [10396] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:01:02,129 [10396] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:01:02,129 [10396] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:01:03,821 [11716] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:01:03,823 [11716] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:01:03,827 [11716] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:01:49,947 [10584] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:01:50,910 [11056] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:01:51,585 [11056] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:01:51,587 [11056] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:01:51,587 [11056] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:01:53,440 [11716] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:01:53,441 [11716] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:01:53,441 [11716] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:02:24,158 [13940] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:02:25,149 [13940] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:02:25,945 [13940] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:02:25,947 [13940] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:02:25,948 [13940] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:02:27,852 [9024] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:02:27,852 [9024] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:02:27,853 [9024] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:04:25,449 [9672] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:04:26,262 [8580] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:04:27,121 [9672] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:04:27,123 [9672] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:04:27,124 [9672] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:04:29,352 [9672] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:04:29,352 [9672] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:04:29,353 [9672] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:04:55,508 [5124] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,525 [5124] DEBUG Sys - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,530 [5124] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,531 [5124] DEBUG Mms - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,535 [5124] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,535 [5124] DEBUG Erp - select name from dbo.sysobjects where id = object_id(N'[dbo].[fun_getPY]') and xtype in (N'FN', N'IF', N'TF')
2020-01-05 22:04:55,928 [9672] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:04:58,642 [13316] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:05:02,184 [5176] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:05:02,194 [5176] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:05:02,204 [5176] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:05:03,038 [8580] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:05:03,039 [8580] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:05:03,046 [8580] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:07:29,840 [1440] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:07:30,179 [4536] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:08:41,122 [11932] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:08:41,564 [5176] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:08:48,163 [1440] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:08:48,167 [1440] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:08:48,167 [1440] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:08:49,081 [10840] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:08:49,082 [10840] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:08:49,082 [10840] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:10:32,861 [14220] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:10:33,300 [10840] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:10:41,990 [8892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:10:41,993 [8892] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:10:41,994 [8892] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:10:42,536 [13632] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:10:42,536 [13632] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:10:42,537 [13632] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:12:48,981 [5176] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:12:49,366 [8580] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:12:50,106 [10840] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:12:50,109 [10840] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:12:50,109 [10840] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:12:52,021 [9672] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:12:52,021 [9672] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:12:52,022 [9672] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:13:05,510 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:13:05,740 [6556] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:13:06,251 [10352] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:13:06,253 [10352] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:13:06,253 [10352] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:13:07,052 [2080] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:13:07,052 [2080] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:13:07,053 [2080] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:13:27,044 [14068] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:13:27,716 [14068] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:13:42,783 [10352] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:13:42,786 [10352] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:13:42,786 [10352] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:13:43,963 [8580] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:13:43,963 [8580] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:13:43,964 [8580] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:14:26,609 [2080] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:14:27,008 [8580] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:14:27,623 [10352] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:14:27,702 [10352] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:14:27,702 [10352] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:14:29,252 [8892] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:14:29,252 [8892] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:14:29,252 [8892] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:20:50,660 [6248] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/location/Index','/Erp/location')
2020-01-05 22:20:53,825 [8728] DEBUG Servicebase_area - 获取动态列表
2020-01-05 22:20:53,835 [8728] DEBUG Erp - select 
                    CAST(a.id as varchar(100)) + '+' + CAST(b.id as varchar(100)) as id,
                    b.name + '->' + a.name as name
                 from 
                    base_area a inner join base_warehouse b 
                    on a.warehouse_id = b.id
                
2020-01-05 22:20:54,144 [4536] DEBUG Servicebase_location - 获取动态列表
2020-01-05 22:20:54,145 [4536] DEBUG Erp - select top 20 * from 
                    base_location
                 order by id
2020-01-05 22:20:54,159 [4536] DEBUG Erp - select count(*) from ( select * from 
                    base_location
                 ) tb_temp
2020-01-05 22:20:57,517 [12320] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/role/Index','/Sys/role')
2020-01-05 22:20:57,525 [12320] DEBUG Servicesys_user - 获取动态列表
2020-01-05 22:20:57,526 [12320] DEBUG Sys - select UserCode,UserName from sys_user
2020-01-05 22:20:57,530 [12320] DEBUG Servicesys_organize - 获取动态列表
2020-01-05 22:20:57,531 [12320] DEBUG Sys - select OrganizeCode,OrganizeName from sys_organize
2020-01-05 22:20:59,162 [10352] DEBUG Servicesys_role - 获取实体列表
2020-01-05 22:20:59,164 [10352] DEBUG Sys - select sys_role.* from sys_role order by RoleSeq
2020-01-05 22:21:04,053 [12868] DEBUG Sys - 
 select A1.UserName as MemberName ,A1.UserCode as MemberCode,'user' as MemberType
  from sys_user A1
 where A1.UserCode in (select B1.UserCode from sys_userRoleMap B1 where B1.RoleCode = 'super')
union
 select A2.OrganizeName as MemberName ,A2.OrganizeCode as MemberCode,'organize' as MemberType
   from sys_organize A2
  where A2.OrganizeCode in (select B2.OrganizeCode from sys_organizeRoleMap B2 where B2.RoleCode = 'super')
2020-01-05 22:21:06,969 [8892] DEBUG Sys - select * from sys_button order by ButtonSeq
2020-01-05 22:21:06,979 [8892] DEBUG Sys - select A.MenuName,A.MenuCode,A.ParentCode,A.IconClass as iconCls,B.MenuName as ParentName,(select 1 from sys_roleMenuMap tb_role where tb_role.RoleCode='super' and tb_role.MenuCode=A.MenuCode) as checked,(
select case when max(tb1_add.ID) is null then -1 
            when max(tb2_add.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_add
left join sys_roleMenuButtonMap AS tb2_add ON tb2_add.MenuCode=tb1_add.MenuCode AND tb2_add.ButtonCode=tb1_add.ButtonCode AND tb2_add.RoleCode='super'
where tb1_add.MenuCode = A.MenuCode and  tb1_add.ButtonCode = 'add'  
)as 'btn_add' ,(
select case when max(tb1_browse.ID) is null then -1 
            when max(tb2_browse.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_browse
left join sys_roleMenuButtonMap AS tb2_browse ON tb2_browse.MenuCode=tb1_browse.MenuCode AND tb2_browse.ButtonCode=tb1_browse.ButtonCode AND tb2_browse.RoleCode='super'
where tb1_browse.MenuCode = A.MenuCode and  tb1_browse.ButtonCode = 'browse'  
)as 'btn_browse' ,(
select case when max(tb1_edit.ID) is null then -1 
            when max(tb2_edit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_edit
left join sys_roleMenuButtonMap AS tb2_edit ON tb2_edit.MenuCode=tb1_edit.MenuCode AND tb2_edit.ButtonCode=tb1_edit.ButtonCode AND tb2_edit.RoleCode='super'
where tb1_edit.MenuCode = A.MenuCode and  tb1_edit.ButtonCode = 'edit'  
)as 'btn_edit' ,(
select case when max(tb1_delete.ID) is null then -1 
            when max(tb2_delete.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_delete
left join sys_roleMenuButtonMap AS tb2_delete ON tb2_delete.MenuCode=tb1_delete.MenuCode AND tb2_delete.ButtonCode=tb1_delete.ButtonCode AND tb2_delete.RoleCode='super'
where tb1_delete.MenuCode = A.MenuCode and  tb1_delete.ButtonCode = 'delete'  
)as 'btn_delete' ,(
select case when max(tb1_search.ID) is null then -1 
            when max(tb2_search.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_search
left join sys_roleMenuButtonMap AS tb2_search ON tb2_search.MenuCode=tb1_search.MenuCode AND tb2_search.ButtonCode=tb1_search.ButtonCode AND tb2_search.RoleCode='super'
where tb1_search.MenuCode = A.MenuCode and  tb1_search.ButtonCode = 'search'  
)as 'btn_search' ,(
select case when max(tb1_refresh.ID) is null then -1 
            when max(tb2_refresh.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_refresh
left join sys_roleMenuButtonMap AS tb2_refresh ON tb2_refresh.MenuCode=tb1_refresh.MenuCode AND tb2_refresh.ButtonCode=tb1_refresh.ButtonCode AND tb2_refresh.RoleCode='super'
where tb1_refresh.MenuCode = A.MenuCode and  tb1_refresh.ButtonCode = 'refresh'  
)as 'btn_refresh' ,(
select case when max(tb1_export.ID) is null then -1 
            when max(tb2_export.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_export
left join sys_roleMenuButtonMap AS tb2_export ON tb2_export.MenuCode=tb1_export.MenuCode AND tb2_export.ButtonCode=tb1_export.ButtonCode AND tb2_export.RoleCode='super'
where tb1_export.MenuCode = A.MenuCode and  tb1_export.ButtonCode = 'export'  
)as 'btn_export' ,(
select case when max(tb1_download.ID) is null then -1 
            when max(tb2_download.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_download
left join sys_roleMenuButtonMap AS tb2_download ON tb2_download.MenuCode=tb1_download.MenuCode AND tb2_download.ButtonCode=tb1_download.ButtonCode AND tb2_download.RoleCode='super'
where tb1_download.MenuCode = A.MenuCode and  tb1_download.ButtonCode = 'download'  
)as 'btn_download' ,(
select case when max(tb1_print.ID) is null then -1 
            when max(tb2_print.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_print
left join sys_roleMenuButtonMap AS tb2_print ON tb2_print.MenuCode=tb1_print.MenuCode AND tb2_print.ButtonCode=tb1_print.ButtonCode AND tb2_print.RoleCode='super'
where tb1_print.MenuCode = A.MenuCode and  tb1_print.ButtonCode = 'print'  
)as 'btn_print' ,(
select case when max(tb1_accredit.ID) is null then -1 
            when max(tb2_accredit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_accredit
left join sys_roleMenuButtonMap AS tb2_accredit ON tb2_accredit.MenuCode=tb1_accredit.MenuCode AND tb2_accredit.ButtonCode=tb1_accredit.ButtonCode AND tb2_accredit.RoleCode='super'
where tb1_accredit.MenuCode = A.MenuCode and  tb1_accredit.ButtonCode = 'accredit'  
)as 'btn_accredit' ,(
select case when max(tb1_audit.ID) is null then -1 
            when max(tb2_audit.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_audit
left join sys_roleMenuButtonMap AS tb2_audit ON tb2_audit.MenuCode=tb1_audit.MenuCode AND tb2_audit.ButtonCode=tb1_audit.ButtonCode AND tb2_audit.RoleCode='super'
where tb1_audit.MenuCode = A.MenuCode and  tb1_audit.ButtonCode = 'audit'  
)as 'btn_audit' ,(
select case when max(tb1_inport.ID) is null then -1 
            when max(tb2_inport.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_inport
left join sys_roleMenuButtonMap AS tb2_inport ON tb2_inport.MenuCode=tb1_inport.MenuCode AND tb2_inport.ButtonCode=tb1_inport.ButtonCode AND tb2_inport.RoleCode='super'
where tb1_inport.MenuCode = A.MenuCode and  tb1_inport.ButtonCode = 'inport'  
)as 'btn_inport' ,(
select case when max(tb1_copy.ID) is null then -1 
            when max(tb2_copy.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_copy
left join sys_roleMenuButtonMap AS tb2_copy ON tb2_copy.MenuCode=tb1_copy.MenuCode AND tb2_copy.ButtonCode=tb1_copy.ButtonCode AND tb2_copy.RoleCode='super'
where tb1_copy.MenuCode = A.MenuCode and  tb1_copy.ButtonCode = 'copy'  
)as 'btn_copy' ,(
select case when max(tb1_save.ID) is null then -1 
            when max(tb2_save.ID) is null then 0 
            else 1 end 
from  sys_menuButtonMap AS tb1_save
left join sys_roleMenuButtonMap AS tb2_save ON tb2_save.MenuCode=tb1_save.MenuCode AND tb2_save.ButtonCode=tb1_save.ButtonCode AND tb2_save.RoleCode='super'
where tb1_save.MenuCode = A.MenuCode and  tb1_save.ButtonCode = 'save'  
)as 'btn_save' 
from sys_menu as A
left join sys_menu B on B.MenuCode = A.ParentCode
where A.IsEnable = 1
order by A.MenuSeq,A.MenuCode
2020-01-05 22:21:07,082 [8728] DEBUG Servicesys_permission - 获取动态列表
2020-01-05 22:21:07,103 [8728] DEBUG Sys - select A.*
,case when B.PermissionCode is null then 0 else 1           end as checked
,case when B.PermissionCode is null then 0 else B.IsDefault end as IsDefault from sys_permission A
left join sys_rolePermissionMap B on B.RoleCode='super' and B.PermissionCode = A.PermissionCode 
2020-01-05 22:21:07,140 [8892] DEBUG Sys - select * from sys_roleMenuColumnMap where RoleCode = 'super'
2020-01-05 22:21:11,306 [12320] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-05 22:21:13,653 [12868] DEBUG Servicesys_user - 获取实体列表
2020-01-05 22:21:13,653 [12868] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-05 22:21:13,678 [12868] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-05 22:21:13,712 [3696] DEBUG Servicesys_organize - 获取实体列表
2020-01-05 22:21:13,713 [3696] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-05 22:21:17,057 [8728] DEBUG Servicesys_userSetting - 获取实体列表
2020-01-05 22:21:17,058 [8728] DEBUG Sys - select sys_userSetting.* from sys_userSetting where  UserCode =  'scy'
2020-01-05 22:25:29,183 [3696] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:25:29,574 [12320] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:25:30,480 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:25:30,482 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:25:30,482 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:25:32,216 [8728] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:25:32,217 [8728] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:25:32,221 [8728] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:26:25,720 [6356] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:26:26,729 [11556] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:26:27,955 [6248] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:26:27,958 [6248] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:26:27,958 [6248] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:26:31,060 [6356] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:26:31,060 [6356] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:26:31,065 [6356] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:26:57,051 [6248] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/Parts/Index','/Erp/Parts')
2020-01-05 22:26:57,052 [6248] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:26:57,053 [6248] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:26:58,803 [6248] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:26:58,803 [6248] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:26:58,804 [6248] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:28:05,236 [14664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:28:06,153 [10352] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:28:08,994 [6248] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:28:08,996 [6248] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:28:08,996 [6248] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:28:09,801 [12868] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:28:09,801 [12868] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:28:09,801 [12868] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:28:42,017 [10352] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:28:43,063 [14664] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:28:44,013 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:28:44,015 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:28:44,015 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:28:46,090 [10352] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:28:46,090 [10352] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:28:46,091 [10352] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:29:22,536 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:29:23,098 [6356] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:29:24,704 [8892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:29:24,736 [8892] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:29:24,736 [8892] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:29:25,771 [12320] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:29:25,771 [12320] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:29:25,772 [12320] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:32:32,259 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:32:32,833 [1204] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:32:34,012 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:32:34,015 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:32:34,015 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:32:35,202 [1204] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:32:35,202 [1204] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:32:35,203 [1204] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:33:20,970 [12868] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:33:21,411 [12868] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:33:22,221 [6356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:33:22,224 [6356] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:33:22,224 [6356] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:33:23,902 [14892] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:33:23,902 [14892] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:33:23,903 [14892] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:35:58,525 [12320] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:35:59,246 [14892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:36:00,552 [13316] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:36:00,555 [13316] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:36:00,555 [13316] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:36:02,510 [6356] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:36:02,510 [6356] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:36:02,511 [6356] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:36:37,558 [14664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:36:38,132 [3696] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:36:38,957 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:36:38,960 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:36:38,961 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:36:40,590 [14664] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:36:40,590 [14664] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:36:40,590 [14664] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:38:26,513 [11556] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:38:27,337 [6356] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:38:28,375 [6356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:38:28,379 [6356] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:38:28,379 [6356] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:38:30,197 [12868] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:38:30,197 [12868] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:38:30,198 [12868] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:38:32,029 [11556] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:38:32,032 [11556] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:38:32,032 [11556] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:38:32,409 [14892] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:38:32,409 [14892] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:38:32,410 [14892] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:39:10,918 [3696] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:39:11,964 [12868] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:39:12,692 [14892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:39:12,694 [14892] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:39:12,695 [14892] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:39:13,536 [3696] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:39:13,537 [3696] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:39:13,537 [3696] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:39:47,721 [1956] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:39:48,308 [14664] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:39:49,407 [6356] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:39:49,411 [6356] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:39:49,411 [6356] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:39:50,544 [3696] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:39:50,545 [3696] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:39:50,545 [3696] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:41:56,095 [14664] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:41:56,744 [6356] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:41:57,815 [1956] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:41:57,817 [1956] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:41:57,818 [1956] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:41:58,958 [6356] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:41:58,958 [6356] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:41:58,959 [6356] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:42:26,359 [12868] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:42:26,894 [6356] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:42:27,790 [14892] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:42:27,793 [14892] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:42:27,793 [14892] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:42:28,737 [6248] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:42:28,737 [6248] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:42:28,738 [6248] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:46:20,787 [1956] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:46:21,512 [13156] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:46:22,706 [14664] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:46:22,709 [14664] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:46:22,709 [14664] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:47:06,753 [14892] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:47:07,340 [11556] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:47:08,403 [7996] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:47:08,406 [7996] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:47:08,406 [7996] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:48:07,822 [1956] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:48:08,413 [12868] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:48:09,378 [11556] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:48:09,380 [11556] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:48:09,380 [11556] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:49:35,196 [7996] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:49:35,852 [11048] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:49:36,800 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:49:36,803 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:49:36,803 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:50:12,410 [11556] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:50:13,141 [14892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:50:14,123 [7996] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:50:14,126 [7996] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:50:14,127 [7996] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:50:53,621 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:50:54,258 [12324] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:50:55,226 [13156] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:50:55,229 [13156] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:50:55,229 [13156] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:51:27,763 [6248] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:51:28,529 [11556] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:51:29,490 [7996] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:51:29,492 [7996] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:51:29,492 [7996] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:52:26,682 [12324] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:52:27,615 [14892] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:52:28,769 [6248] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:52:28,773 [6248] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:52:28,773 [6248] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:52:30,895 [13156] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:52:30,895 [13156] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:52:30,896 [13156] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:52:48,338 [7996] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Sys/user/Index','/Sys/user')
2020-01-05 22:52:50,206 [11556] DEBUG Servicesys_organize - 获取实体列表
2020-01-05 22:52:50,206 [11556] DEBUG Sys - select sys_organize.* from sys_organize
2020-01-05 22:52:50,704 [14892] DEBUG Servicesys_user - 获取实体列表
2020-01-05 22:52:50,705 [14892] DEBUG Sys - select top 20 sys_user.* from sys_user order by UserSeq
2020-01-05 22:52:50,713 [14892] DEBUG Sys - select count(*) from ( select sys_user.* from sys_user ) tb_temp
2020-01-05 22:53:48,457 [7996] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:53:49,056 [12868] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:53:50,130 [11556] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:53:50,133 [11556] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:53:50,133 [11556] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:53:52,264 [14892] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:53:52,264 [14892] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:53:52,265 [14892] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
2020-01-05 22:54:45,396 [14892] DEBUG Sys - select * from sys_userSetting where UserCode='super'
2020-01-05 22:54:46,022 [7996] DEBUG Sys - 
--角色的菜单
select distinct B.*
from sys_roleMenuMap A
inner join sys_menu  B on B.MenuCode = A.MenuCode
where B.IsEnable='1'
  and RoleCode in (
  select RoleCode from sys_userRoleMap where UserCode = 'super' --用户的角色
union all
  select RoleCode from sys_organizeRoleMap where OrganizeCode in  --机构的角色
  (
	select OrganizeCode from sys_userOrganizeMap where UserCode = 'super'
  )  
)
order by B.MenuSeq,B.MenuCode
2020-01-05 22:54:47,208 [12868] DEBUG Sys - 
select 1
from sys_roleMenuMap A
left join sys_userRoleMap B on B.RoleCode = A.RoleCode
left join sys_menu C on C.MenuCode = A.MenuCode
where B.UserCode = 'super'
and C.URL in ('/Erp/parts/Index','/Erp/parts')
2020-01-05 22:54:47,214 [12868] DEBUG Servicebase_data - 获取动态列表
2020-01-05 22:54:47,214 [12868] DEBUG Erp - select name as value,name as text from base_data where  type =  '部件'and isenable =  '1'
2020-01-05 22:54:49,374 [14892] DEBUG Servicebase_parts - 获取动态列表
2020-01-05 22:54:49,375 [14892] DEBUG Erp - select top 20 * from base_Parts order by id
2020-01-05 22:54:49,376 [14892] DEBUG Erp - select count(*) from ( select * from base_Parts ) tb_temp
